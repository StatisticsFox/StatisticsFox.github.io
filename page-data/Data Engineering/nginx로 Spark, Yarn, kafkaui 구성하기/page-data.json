{"componentChunkName":"component---src-templates-blog-template-js","path":"/Data Engineering/nginxë¡œ Spark, Yarn, kafkaui êµ¬ì„±í•˜ê¸°/","result":{"data":{"cur":{"id":"a14666bd-b475-5985-9bcc-462ee1457782","html":"<h2 id=\"ë“¤ì–´ê°€ê¸°ì—-ì•ì„œ\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\" aria-label=\"ë“¤ì–´ê°€ê¸°ì— ì•ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸°ì— ì•ì„œ</h2>\n<p>kafka í† í”½ê´€ë¦¬ë‚˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ ê·¸ë¦¬ê³  SPARK ë©”ëª¨ë¦¬ë‚˜ yarn ê·¸ë¦¬ê³  í”„ë¡œì¼€í…Œìš°ìŠ¤ì™€ ê·¸ë¼íŒŒë‚˜ ë“±ì´ ì˜ ì‘ë™í•˜ëŠ”ì§€ ëª¨ë‘ clië¡œ ê´€ë¦¬í•˜ëŠ”ê²ƒì€ ëª…ë°±í•œ í•œê³„ê°€ ì¡´ì¬í•œë‹¤. ë„ˆë¬´ ë¶ˆí¸í•˜ê³  ê·¸ê²Œ ë‹¤ ì‹œê°„ ìì› ë¹¼ë¨¹ëŠ”ê±°ë‹¤. ë•Œë¬¸ì— Web uië¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ë³´í†µ êµ‰ì¥íˆ í¸í•œë° ì‚¬ìš©í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì™€ íˆ´ì´ ëŠ˜ì–´ë‚˜ëŠ” ë§Œí¼ ë§ì€ Web uië¥¼ ë„ì›Œì•¼ í•œë‹¤.</p>\n<p>ê·¸ë™ì•ˆ ë‚˜ëŠ” í¬íŠ¸ í¬ì›Œë”©ìœ¼ë¡œ ëª¨ë“  uië¥¼ ë„ì› ë‹¤. ì´ë ‡ê²Œ ëì„ ê²½ìš° ë‹¨ì ì€ <font color=\"#c00000\">ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë„ê³  í‚¬ë•Œë§ˆë‹¤ ë§¤ë²ˆ í¬íŠ¸í¬ì›Œë”©ì„ ìˆ˜ë™ìœ¼ë¡œ í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.</font>ê·¸ë™ì•ˆì€ í•œë²ˆì— í¬íŠ¸ í¬ì›Œë”©ì„ í•´ì£¼ëŠ” .shíŒŒì¼ì„ ê¸¸ê²Œ ë§Œë“¤ì–´ì„œ í•´ê²°í•´ì™”ìœ¼ë‚˜ ì ì  ê°ë‹¹í•˜ê¸° ì–´ë ¤ìš´ ìˆ˜ì¤€ê¹Œì§€ ê°”ë‹¤. ë•Œë¬¸ì— ë„ì…í•œ ê²ƒì´ ë°”ë¡œ ìš°ë¦¬ íŒ€ì› ë¡œì»¬ ë‚´ë¶€ì˜ hostsì— ipì£¼ì†Œì™€ ë„ë©”ì¸ ì´ë¦„ì„ ì§€ì •í•´ë‘ê³  nginxë¡œ uië¥¼ ë„ìš¸ ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ë‘ëŠ” ë°©í–¥ì´ì—ˆë‹¤.</p>\n<div align=\"center\">\n    <img src=\"https://onedrive.live.com/embed?resid=9DED56BE8CF81C92%21211&amp;authkey=%21AInaQqp_g1hhKd0&amp;width=564&amp;height=311\" alt=\"ì‹œì‘í•´ë³´ì\">\n</div>\n<h2 id=\"nginx-ì„¤ì •\" style=\"position:relative;\"><a href=\"#nginx-%EC%84%A4%EC%A0%95\" aria-label=\"nginx ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>nginx ì„¤ì •</h2>\n<h3 id=\"public-natì—-nginx-ì„¤ì¹˜í•˜ì—¬-http-rewriteí• -ìˆ˜-ìˆë„ë¡-ì„¤ì •\" style=\"position:relative;\"><a href=\"#public-nat%EC%97%90-nginx-%EC%84%A4%EC%B9%98%ED%95%98%EC%97%AC-http-rewrite%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8F%84%EB%A1%9D-%EC%84%A4%EC%A0%95\" aria-label=\"public natì— nginx ì„¤ì¹˜í•˜ì—¬ http rewriteí•  ìˆ˜ ìˆë„ë¡ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>public-natì— nginx ì„¤ì¹˜í•˜ì—¬ http rewriteí•  ìˆ˜ ìˆë„ë¡ ì„¤ì •</h3>\n<p>ë¨¼ì € nginxë¥¼ public-natì— ì„¤ì¹˜í•´ ì£¼ê³  nginx.confë¥¼ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ìˆ˜ì •í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ec2-user$ <span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> nginx\nec2-user$ <span class=\"token builtin class-name\">cd</span> /etc/nginx\nec2-user$ <span class=\"token function\">sudo</span> <span class=\"token function\">vi</span> nginx.conf</code></pre></div>\n<p>ê·¸ í›„ include ë°”ë¡œ ì•„ë˜ server ë¸”ë¡ ê¸°ì¡´ ë‚´ìš© ì‚­ì œ í›„ ì•„ë˜ resolverì™€ server ë¸”ë¡ ì‚½ì…í•˜ë©´ ëœë‹¤. ê°„í¸í•¨ì„ ìœ„í•´ ìš°ì„  kafka web uië§Œ ë“¤ê³ ì™”ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token comment\"># include /etc/nginx/conf.d/*.conf; &lt;- ìš” ì•„ë˜ì— ì‘ì„±</span>\n\n    resolver <span class=\"token number\">127.0</span>.0.1<span class=\"token punctuation\">;</span>\n \t\tserver <span class=\"token punctuation\">{</span>\n        listen <span class=\"token number\">8080</span><span class=\"token punctuation\">;</span>\n        server_name kafka03<span class=\"token punctuation\">;</span>\n        location / <span class=\"token punctuation\">{</span>\n            proxy_pass http://<span class=\"token operator\">&lt;</span>private IP address<span class=\"token operator\">></span>:<span class=\"token operator\">&lt;</span>port<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>  <span class=\"token comment\"># ì‹¤ì œ ë°±ì—”ë“œ ì£¼ì†Œë¡œ ë³€ê²½</span>\n            proxy_set_header Host <span class=\"token variable\">$http_host</span><span class=\"token punctuation\">;</span>\n            proxy_set_header X-Real-IP <span class=\"token variable\">$remote_addr</span><span class=\"token punctuation\">;</span>\n            proxy_set_header X-Forwarded-For <span class=\"token variable\">$proxy_add_x_forwarded_for</span><span class=\"token punctuation\">;</span>\n            proxy_set_header X-Forwarded-Proto <span class=\"token variable\">$scheme</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ ì–‘ì‹ìœ¼ë¡œ ëª¨ë“  í¬íŠ¸ë¥¼ ë‹¤ ì§€ì •í•´ ì£¼ë©´ ëœë‹¤. ì§€ê¸ˆ ìœ„ ì–‘ì‹ìœ¼ë¡œ confì— ì§€ì •í•˜ë©´ server_nameì— ì§€ì •í•œ ì´ë¦„ì´ ë°”ë¡œ ë„ë©”ì¸ ì´ë¦„ì´ë‹¤. ë‚˜ì¤‘ì— ë¡œì»¬ì—ë„ ì ìš©í•´ì¤„ ì˜ˆì •ì´ë‹ˆ ì˜ ê¸°ì–µí•´ì£¼ì.</p>\n<h2 id=\"nginx-ì„œë¹„ìŠ¤-ì‹œì‘\" style=\"position:relative;\"><a href=\"#nginx-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%8B%9C%EC%9E%91\" aria-label=\"nginx ì„œë¹„ìŠ¤ ì‹œì‘ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nginx ì„œë¹„ìŠ¤ ì‹œì‘</h2>\n<h3 id=\"nginxconf-ì‘ì„±-ì™„ë£Œë˜ë©´-nginx-ì„œë¹„ìŠ¤-ì‹œì‘\" style=\"position:relative;\"><a href=\"#nginxconf-%EC%9E%91%EC%84%B1-%EC%99%84%EB%A3%8C%EB%90%98%EB%A9%B4-nginx-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%8B%9C%EC%9E%91\" aria-label=\"nginxconf ì‘ì„± ì™„ë£Œë˜ë©´ nginx ì„œë¹„ìŠ¤ ì‹œì‘ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>nginx.conf ì‘ì„± ì™„ë£Œë˜ë©´ nginx ì„œë¹„ìŠ¤ ì‹œì‘</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ec2-user$ <span class=\"token function\">sudo</span> systemctl start nginx\nec2-user$ <span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> nginx</code></pre></div>\n<h3 id=\"ë¡œì»¬ì˜-etchosts-ë¥¼-ì´ìš©í•˜ì—¬-resolve-í•˜ë„ë¡-ì¶”ê°€-íŒ¨í‚¤ì§€-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EC%BB%AC%EC%9D%98-etchosts-%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-resolve-%ED%95%98%EB%8F%84%EB%A1%9D-%EC%B6%94%EA%B0%80-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98\" aria-label=\"ë¡œì»¬ì˜ etchosts ë¥¼ ì´ìš©í•˜ì—¬ resolve í•˜ë„ë¡ ì¶”ê°€ íŒ¨í‚¤ì§€ ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œì»¬ì˜ /etc/hosts ë¥¼ ì´ìš©í•˜ì—¬ resolve í•˜ë„ë¡ ì¶”ê°€ íŒ¨í‚¤ì§€ ì„¤ì¹˜</h3>\n<p>ë‹¤ìŒì€ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ í•˜ë‚˜ ë” ì„¤ì¹˜í•´ ì¤„ê±°ë‹¤. <code class=\"language-text\">dnsmasq</code>ë¼ëŠ” ê±´ë° ê²½ëŸ‰ DNS í¬ì›Œë” ë° DHCP ì„œë²„ë‹¤. ì´ê±¸ë¡œ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ íŒŒì¼(/etc/hosts)ì„ ì‚¬ìš©í•˜ì—¬ ë„ë©”ì¸ ì´ë¦„ì„ IP ì£¼ì†Œë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤. ìš°ë¦¬ëŠ” ë¡œì»¬ì—ì„œ ì ‘ì†í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ipì£¼ì†”ë¥´ ë³€í™˜í•´ì£¼ëŠ” í•µì‹¬ íŒ¨í‚¤ì§€ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ec2-user$ <span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> dnsmasq\nec2-user$ <span class=\"token function\">sudo</span> systemctl start dnsmasq\nec2-user$ <span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> dnsmasq</code></pre></div>\n<h3 id=\"ì„œë²„-ë°©í™”ë²½í•´ì œ-ë°-ì˜êµ¬ì €ì¥\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EB%B0%A9%ED%99%94%EB%B2%BD%ED%95%B4%EC%A0%9C-%EB%B0%8F-%EC%98%81%EA%B5%AC%EC%A0%80%EC%9E%A5\" aria-label=\"ì„œë²„ ë°©í™”ë²½í•´ì œ ë° ì˜êµ¬ì €ì¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„œë²„ ë°©í™”ë²½í•´ì œ ë° ì˜êµ¬ì €ì¥</h3>\n<p>ë°©í™”ë²½ì„ í•´ì œí•´ì£¼ê³ </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ec2-user$ <span class=\"token function\">sudo</span> iptables â€“F\nec2-user$ <span class=\"token function\">sudo</span> <span class=\"token function\">service</span> iptables save</code></pre></div>\n<h2 id=\"ë¡œì»¬ì˜-hosts-íŒŒì¼-ìˆ˜ì •\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EC%BB%AC%EC%9D%98-hosts-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\" aria-label=\"ë¡œì»¬ì˜ hosts íŒŒì¼ ìˆ˜ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œì»¬ì˜ hosts íŒŒì¼ ìˆ˜ì •</h2>\n<h3 id=\"ë¡œì»¬-í™˜ê²½ì˜-hosts-íŒŒì¼ì—-í˜¸ìŠ¤íŠ¸-ë“±ë¡\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EC%BB%AC-%ED%99%98%EA%B2%BD%EC%9D%98-hosts-%ED%8C%8C%EC%9D%BC%EC%97%90-%ED%98%B8%EC%8A%A4%ED%8A%B8-%EB%93%B1%EB%A1%9D\" aria-label=\"ë¡œì»¬ í™˜ê²½ì˜ hosts íŒŒì¼ì— í˜¸ìŠ¤íŠ¸ ë“±ë¡ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œì»¬ í™˜ê²½ì˜ hosts íŒŒì¼ì— í˜¸ìŠ¤íŠ¸ ë“±ë¡</h3>\n<p>/etc/hosts íŒŒì¼ì— ì•„ë˜ public-natì— í• ë‹¹ëœ Elastic IP í™•ì¸ í›„ ë°”ë¡œ ì…ë ¥í•´ì£¼ë„ë¡ í•œë‹¤.\në³¸ì¸ ë¡œì»¬ì˜ /etc/hosts ë°‘ì— ì•„ë˜ì²˜ëŸ¼ ì ìš©í•´ì¤€ë‹¤. ì´ë¦„ì€ ì•„ê¹Œ nginx.confì—ì„œ ì„¤ì •í–ˆë˜ server_nameì„ì„ ìŠì§€ë§ì</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>Elastic IP<span class=\"token punctuation\">}</span> kafka01 <span class=\"token comment\"># Elastic IP &lt;- public NAT IP</span>\n<span class=\"token punctuation\">{</span>Elastic IP<span class=\"token punctuation\">}</span> kafka02\n<span class=\"token punctuation\">{</span>Elastic IP<span class=\"token punctuation\">}</span> kafka03</code></pre></div>\n<h2 id=\"í™•ì¸\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9D%B8\" aria-label=\"í™•ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í™•ì¸</h2>\n<p>ê·¸ëŸ¬ë©´! ì§ ! êµ³ì´ public natì˜ ip ì£¼ì†Œì™€ í¬íŠ¸í¬ì›Œë”©ì„ ì´ìš©í•˜ì§€ ì•Šì•„ë„ ì´ì œëŠ” ì–¸ì œë“ ì§€ ì„œë²„ë¥¼ í‚¤ë©´ ì„¤ì •í•´ë‘” ë„ë©”ì¸ ì´ë¦„ìœ¼ë¡œ ì›í•˜ëŠ” webuiì— ì ‘ì†ì´ ê°€ëŠ¥í•˜ë‹¤.</p>\n<div align=\"center\">\n    <img src=\"https://1drv.ms/i/c/9ded56be8cf81c92/IQNF77uX7iyER6tUXEZYC-EMAV7SE2amV7b9rzz7SGpVVKM?width=1024\" alt=\"kafka_web_ui\">\n</div>","excerpt":"ë“¤ì–´ê°€ê¸°ì— ì•ì„œ kafka í† í”½ê´€ë¦¬ë‚˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ ê·¸ë¦¬ê³  SPARK ë©”ëª¨ë¦¬ë‚˜ yarn ê·¸ë¦¬ê³  í”„ë¡œì¼€í…Œìš°ìŠ¤ì™€ ê·¸ë¼íŒŒë‚˜ ë“±ì´ ì˜ ì‘ë™í•˜ëŠ”ì§€ ëª¨ë‘ clië¡œ ê´€ë¦¬í•˜ëŠ”ê²ƒì€ ëª…ë°±í•œ í•œê³„ê°€ ì¡´ì¬í•œë‹¤. ë„ˆë¬´ ë¶ˆí¸í•˜ê³  ê·¸ê²Œ ë‹¤ ì‹œê°„ ìì› ë¹¼ë¨¹ëŠ”ê±°ë‹¤. ë•Œë¬¸ì— Web uië¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ë³´í†µ êµ‰ì¥íˆ í¸í•œë° ì‚¬ìš©í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì™€ íˆ´ì´ ëŠ˜ì–´ë‚˜ëŠ” ë§Œí¼ ë§ì€ Web uië¥¼ ë„ì›Œì•¼ í•œë‹¤. ê·¸ë™ì•ˆ ë‚˜ëŠ” í¬íŠ¸ í¬ì›Œë”©ìœ¼ë¡œ ëª¨ë“  uië¥¼ ë„ì› ë‹¤. ì´ë ‡ê²Œ ëì„ ê²½ìš° ë‹¨ì ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë„ê³  í‚¬ë•Œë§ˆë‹¤ ë§¤ë²ˆ í¬íŠ¸í¬ì›Œë”©ì„ ìˆ˜ë™ìœ¼ë¡œ í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.ê·¸ë™ì•ˆì€ í•œë²ˆì— í¬íŠ¸ í¬ì›Œë”©ì„ í•´ì£¼ëŠ” .shíŒŒì¼ì„ ê¸¸ê²Œ ë§Œë“¤ì–´ì„œ í•´ê²°í•´ì™”ìœ¼ë‚˜ ì ì  ê°ë‹¹í•˜ê¸° ì–´ë ¤ìš´ ìˆ˜ì¤€ê¹Œì§€ ê°”ë‹¤. ë•Œë¬¸ì— ë„ì…í•œ ê²ƒì´ ë°”ë¡œ ìš°ë¦¬ íŒ€ì› ë¡œì»¬ ë‚´ë¶€ì˜ hostsì— ipì£¼ì†Œì™€ ë„ë©”ì¸ ì´ë¦„ì„ ì§€ì •í•´ë‘ê³  nginxë¡œ uië¥¼ ë„ìš¸ ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ë‘ëŠ” ë°©í–¥ì´ì—ˆë‹¤. nginx ì„¤ì • public-natì— nginx ì„¤ì¹˜í•˜ì—¬ http rewriteí•  ìˆ˜ ìˆë„ë¡ ì„¤ì • ë¨¼ì € nginâ€¦","frontmatter":{"date":"August 18, 2024","title":"nginxë¡œ Spark, Yarn, kafka ë“± ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ Web ui êµ¬ì„±í•˜ê¸°","categories":"Data_Engineering","author":"ìµœì§€í˜","emoji":"ğŸ“"},"fields":{"slug":"/Data Engineering/nginxë¡œ Spark, Yarn, kafkaui êµ¬ì„±í•˜ê¸°/"}},"next":{"id":"86485b27-e91e-508b-8973-c55fb988ce08","html":"<h2 id=\"ë“¤ì–´ê°€ê¸°ì—-ì•ì„œ\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\" aria-label=\"ë“¤ì–´ê°€ê¸°ì— ì•ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸°ì— ì•ì„œ..</h2>\n<p>ìš”ìƒˆëŠ” í•™êµ ê³¼ì œë¥¼ ìœ„í•œ ë”°ë¦‰ì´ ëŒ€ì‹œë³´ë“œê°€ ì•„ë‹Œ í•œì´ìŒ ICT ê³µëª¨ì „ì„ ìœ„í•œ ë”°ë¦‰ì´ ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•ì„ ì§„í–‰ì¤‘ì´ë‹¤. ì›ë˜ëŠ” ì¹´í”„ì¹´ë¡œ ë°ì´í„°ë¥¼ producing í•˜ìë§ˆì ìŠ¤í”¼ë“œë ˆì´ì–´ë¥¼ êµ¬ì¶•í•´ì„œ ëŒ€ì‹œë³´ë“œì— ë§ˆì´í¬ë¡œ ë°°ì¹˜ í˜•íƒœë¡œ ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì¶•í–ˆë‹¤ë©´ ì´ë²ˆì—ëŠ” ëŒ€ì‹œë³´ë“œë¥¼ ë” ê³ ë„í™”í•˜ê¸° ìœ„í•´ Sparkë¥¼ ì´ìš©í•´ í•œë²ˆ í˜•íƒœ ë³€í™˜ì„ í•˜ê³  S3ì— ì ì œí•˜ëŠ” ê³¼ì •ì„ ê±°ì ¸ë´¤ë‹¤.</p>\n<p>ì¦‰, ì•„í‚¤í…ì³ì˜ ë³€í™”ê°€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<h4 id=\"ì´ì „-ì•„í‚¤í…ì³\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%A0%84-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90\" aria-label=\"ì´ì „ ì•„í‚¤í…ì³ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì´ì „ ì•„í‚¤í…ì³</h4>\n<div align=\"center\">\n    <img src=\"https://1drv.ms/i/c/9ded56be8cf81c92/UQOSHPiMvlbtIICdzgAAAAAAALbDIYVRTxIVsFE?width=2400&amp;height=868\" alt=\"ì•„í‚¤í…ì³\">\n</div>\n<h4 id=\"ë³€ê²½-í›„-ì•„í‚¤í…ì³\" style=\"position:relative;\"><a href=\"#%EB%B3%80%EA%B2%BD-%ED%9B%84-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90\" aria-label=\"ë³€ê²½ í›„ ì•„í‚¤í…ì³ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë³€ê²½ í›„ ì•„í‚¤í…ì³</h4>\n<div align=\"center\">\n    <img src=\"https://1drv.ms/i/c/9ded56be8cf81c92/IQNJRKls7yGMSJpXC5w6SHexAcdcMmCo1u9rPOT7osYAtOQ?width=2918&amp;height=1186\" alt=\"ì•„í‚¤í…ì³\">\n</div>\n<p>ì¢€ ë§ì´ í˜ì¨ë´¤ë‹¤. ë‹¨ìˆœí•˜ê²Œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ë§Œ í•˜ëŠ” ëŒ€ì‹œë³´ë“œëŠ” ì‹ìƒí•˜ê¸°ë„ í•˜ê³  ì†”ì§íˆ ìš”ì¦˜ ê°™ì´ Chatgptê°€ ë°œë‹¬í•œ ì‹œëŒ€ì— ê·¸ ì •ë„ ëª»ë§Œë“œëŠ” ì‚¬ëŒ ì—†ì„ ê²ƒì´ë‹¤. ë‹¤ë§Œ ì´ë ‡ê²Œ í´ë¼ìš°ì•ˆì—ì„œ ë‹¤ì–‘í•œ íˆ´ê³¼ í•¨ê»˜ ì„œë¹„ìŠ¤ë¥¼ ì œì‘í•œë‹¤ëŠ” ê²ƒì€ ë˜ ë‹¤ë¥¸ ê°œë…ì´ë¼ ê·¸ ì˜ë¯¸ê°€ í¬ë‹¤. ë‚˜ëŠ” ìœ„ ì•„í‚¤í…ì³ì—ì„œ <font color=\"#c00000\">ì¹´í”„ì¹´ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°›ì•„ SPARKì—ì„œ ë³€í™˜ í›„ S3ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ì ì œí•˜ëŠ” Spark-Streaming ì½”ë“œ</font>ë¥¼ ì´ë²ˆì— ì‘ì„±í•´ë´¤ë‹¤.<del>(ì‚¬ì‹¤ ì•„ì§ ê°œë°œ ì¤‘!)</del> <br>\nê·¸ëŸ¼ ì´ì œ ì‹œì‘í•´ë³´ì</p>\n<div align=\"center\">\n    <img src=\"https://onedrive.live.com/embed?resid=9DED56BE8CF81C92%21211&amp;authkey=%21AInaQqp_g1hhKd0&amp;width=564&amp;height=311\" alt=\"ì‹œì‘í•´ë³´ì\">\n</div>\n<h2 id=\"sql-vs-dataframeapi-vs-ë¬´ì§€ì„±-ì½”ë”©\" style=\"position:relative;\"><a href=\"#sql-vs-dataframeapi-vs-%EB%AC%B4%EC%A7%80%EC%84%B1-%EC%BD%94%EB%94%A9\" aria-label=\"sql vs dataframeapi vs ë¬´ì§€ì„± ì½”ë”© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SQL VS DataframeAPI VS ë¬´ì§€ì„± ì½”ë”©</h2>\n<p>ì SPARKë¥¼ íŒŒì´ì¬ìœ¼ë¡œ ì‘ì„±í•  ê²½ìš° ë§ì€ ì„ íƒì§€ê°€ ìˆìœ¼ë‹ˆâ€¦ ë°”ë¡œ spark_sql í˜¹ì€ dataframe_api ë‘˜ ì¤‘ ë¬´ì—ˆì„ ì“¸ì§€ë‹¤.<a href=\"https://statisticsfox.notion.site/Spark-RDD-DataFrame-SQL-77b20bc7a90d4c709a002ad75542b396?pvs=4\">(ì´ ë‘˜ ê°„ì˜ ë¹„êµëŠ” ì´ë¯¸ ë…¸ì…˜ì— ì •ë¦¬ í•¨. ì°¸ê³ !)</a>\n<br></p>\n<p>ë¬´ì§€ì„± ì½”ë”©ì€ ê·¸ëŸ¼ ì™œ ë„£ì—ˆëƒ! ë‚´ê°€ ì²˜ìŒì— ë¬´ì§€ì„±ìœ¼ë¡œ ì½”ë”©ì„ í–ˆì—ˆë‹¤. ë°”ë¡œ collect()í•¨ìˆ˜ë¡œë§Œ ëª¨ë“  ì§‘ê³„ë¥¼ ì²˜ë¦¬í•œê²ƒì´ë‹¤.ğŸ˜±ğŸ˜± ê·¸ëŸ¼ ì ˆëŒ€ ì•ˆëœë‹¤.</p>\n<blockquote>\n<p>sparkì—ëŠ” Driverì™€ excutorê°€ ìˆëŠ”ë° ë‹¤ìŒê³¼ ê°™ì€ ì—­í• ì„ í•¨. <br></p>\n<ul>\n<li>driver: ì¼ê°(TASK)ì´ ë“¤ì–´ì˜¤ë©´ excuterì—ê²Œ ì¼ê°ì„ ë˜ì ¸ì¤€ë‹¤. <br></li>\n<li>excuter: ë“¤ì–´ì˜¨ ì¼ì„ ì²˜ë¦¬í•˜ê³  ì¼í•œ ê²°ê³¼ë¥¼ driverì—ê²Œ ë°˜í™˜í•˜ëŠ” ì—­í• ì„ í•œë‹¤.</li>\n</ul>\n</blockquote>\n<p>ê·¼ë° collect()í•¨ìˆ˜ë¡œë§Œ ëª¨ë“  ì§‘ê³„ë¥¼ ì²˜ë¦¬í•œë‹¤ëŠ” ê²ƒì€ driverê°€ ëª¨ë“  ì¼ì„ ë‹¤í•˜ë„ë¡ ì½”ë”©í•œë‹¤ëŠ” ëœ»ì´ë‹¤. ì¦‰, ì‚¬ì¥ë‹˜ì´ ì•Œë°” ë½‘ì•˜ëŠ”ë° ì•Œë°” ë†”ë‘ê³  ìê¸° í˜¼ì ì¼ ë‹¤í•˜ëŠ” ê¼´ì´ë‹¤.ğŸ’€ ì´ëŸ¬ë©´ ë³‘ë ¬ ì—°ì‚°ì˜ ì¥ì ë„ ì—†ì„ ë¿ë”ëŸ¬ SPARKì˜ ì¥ì ë“¤ì´ ì•„ë¬´ì§ì—ë„ ì“¸ëª¨ ì—†ì–´ì ¸ ë²„ë¦°ë‹¤.<del>(ê·¼ë° ë³¸ì¸ì€ ì´ˆë°˜ì— ì•„ëŸ° ë©ì²­í•œ ì§“ì„ ì €ì§€ë¦„ã…‹ã……ã…‹)</del> <br></p>\n<p>ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” SQLì—”ì§„ í˜¹ì€ Dataframe apië¥¼ í™œìš©í•´ì„œ ë°ì´í„°ë¥¼ ì§‘ê³„ í•´ì•¼í•œë‹¤. ë˜í•œ ì´ ë‘˜ì„ ì‚¬ìš©í•˜ë©´ ì¹´íƒˆë¦¬ìŠ¤íŠ¸ ì˜µí‹°ë§ˆì´ì €ë¼ê³  Spark ë‚´ì—ì„œ ìµœì í™” ë° ê³„íšì„ ìˆ˜ë¦½í•´ ì£¼ê¸°ì— ìµœì„ ì˜ ê²°ê³¼ì™€ ì†ë„ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ìœ„ ë§í¬ë¥¼ ì°¸ê³ í•˜ì.</p>\n<h2 id=\"ê·¸ë ‡ê²Œ-ì„ ì •ëœ-sql\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%A0%87%EA%B2%8C-%EC%84%A0%EC%A0%95%EB%90%9C-sql\" aria-label=\"ê·¸ë ‡ê²Œ ì„ ì •ëœ sql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê·¸ë ‡ê²Œ ì„ ì •ëœ SQL</h2>\n<p>ë‚˜ëŠ”  Spark SQLì„ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤. ì‚¬ì‹¤ ë‚˜ëŠ” SQL ë³´ë‹¤ëŠ” DataFrameAPIë¥¼ ë” ì„ í˜¸í•œë‹¤. ê·¸ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ol>\n<li>DataFrame apiëŠ” ì˜¤ë¥˜ê°€ ë‚¬ì„ ê²½ìš° ì»´íŒŒì¼ í•˜ê¸° ìš©ì´í•˜ë‹¤.</li>\n<li>í˜„ì¬ ë³€í™˜í•˜ë ¤ê³  í•˜ëŠ” í˜•ì‹ì€ í¬ê²Œ ë³µì¡í•œ êµ¬ì¡°ê°€ ì•„ë‹ˆê¸°ì— ì—„ì²­ ê°„ë‹¨í•˜ê²Œ ì§ˆì˜í•  ìˆ˜ ìˆë‹¤. <br></li>\n<li>SQLì€ ì¿¼ë¦¬ë¥¼ ì§œë„ ì—ëŸ¬ê°€ ë‚˜ë©´ ê·¸ëƒ¥ ì¿¼ë¦¬ì— ë¬¸ì œê°€ ìˆë‹¤ê³  ì•Œë ¤ì£¼ì§€ ì¿¼ë¦¬ ì–´ë””ì„œ ë¬¸ì œê°€ ìˆëŠ”ì§€ ì•Œë ¤ì£¼ì§€ ì•ŠëŠ”ë‹¤.</li>\n</ol>\n<p>ì •ë„ ë˜ì‹œê² ë‹¤. ë‚´ê°€ Sparkì—ì„œ ì¿¼ë¦¬ë¥¼ ê¸°ì´ì´ì¼ê²Œ ì§°ì„ë•Œ ì˜¤ë¥˜ê°€ ë‚˜ë©´ â€œê·¸ëƒ¥ ì¿¼ë¦¬ì— ì˜¤ë¥˜ê°€ ìˆë‹¤.â€ì •ë„ë§Œ í‘œì‹œ ë˜ê¸°ì— ì¿¼ë¦¬ê°€ ê¸¸ë©´ ì»´íŒŒì¼ì´ ì–´ë ¤ì›Œì§„ë‹¤. ë‹¤ë§Œ ë°ì´í„° í”„ë ˆì„ì€ ì–´ë””ì„œ ì˜¤ë¥˜ê°€ ë‚¬ëŠ”ì§€ ì»´íŒŒì¼ì´ ë¹„êµì  ëª…í™•í•˜ê³  ê·¸ë ‡ê¸°ì— í…ŒìŠ¤í¬ ë³„ë¡œ ëª¨ë“ˆí™”í•˜ê¸°ê°€ ì—„ì²­ ì¢‹ë‹¤. <br>\në‹¤ë§Œ ì´ë²ˆì—ëŠ” ë‚˜ëŠ” 1ì‹œê°„ ë‹¨ìœ„ë¡œ ì§‘ê³„ë¥¼ í•´ì•¼ í•œë‹¤. SQLì—ëŠ” windowë¼ëŠ” ê¸°ëŠ¥ì´ ìˆëŠ”ë° ì´ë¥¼ 1hourë¡œ ì„¤ì •í•´ì£¼ë©´ ë‚´ê°€ ìˆ˜ë™ìœ¼ë¡œ ë¹„êµí•´ì£¼ì§€ ì•Šì•„ë„ ìê¸°ë‚´ë“¤ ì•Œì•„ì„œ 1ì‹œê°„ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì§‘ê³„í•´ ì¤€ë‹¤.</p>\n<h2 id=\"ì½”ë“œë¥¼-ì‚´í´ë³´ì\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%82%B4%ED%8E%B4%EB%B3%B4%EC%9E%90\" aria-label=\"ì½”ë“œë¥¼ ì‚´í´ë³´ì permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì½”ë“œë¥¼ ì‚´í´ë³´ì</h2>\n<h3 id=\"ë¬´ì§€ì„±-ì½”ë”©\" style=\"position:relative;\"><a href=\"#%EB%AC%B4%EC%A7%80%EC%84%B1-%EC%BD%94%EB%94%A9\" aria-label=\"ë¬´ì§€ì„± ì½”ë”© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¬´ì§€ì„± ì½”ë”©</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">update_state</span><span class=\"token punctuation\">(</span>batch_df<span class=\"token punctuation\">,</span> batch_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">global</span> state<span class=\"token punctuation\">,</span> current_hour<span class=\"token punctuation\">,</span> batch_accumulator\n\n    now <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>utcnow<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span>minute<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> second<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> microsecond<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">if</span> current_hour <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n        current_hour <span class=\"token operator\">=</span> now\n\n    <span class=\"token comment\"># ìƒˆë¡œìš´ ì‹œê°„ ì°½ì— ë“¤ì–´ì„œë©´ ì´ì „ ë°ì´í„° ì§‘ê³„ ë° ì´ˆê¸°í™”</span>\n    <span class=\"token keyword\">if</span> now <span class=\"token operator\">!=</span> current_hour<span class=\"token punctuation\">:</span>\n    \n        <span class=\"token keyword\">if</span> batch_accumulator<span class=\"token punctuation\">:</span>\n            result_df <span class=\"token operator\">=</span> spark<span class=\"token punctuation\">.</span>createDataFrame<span class=\"token punctuation\">(</span>batch_accumulator<span class=\"token punctuation\">,</span> schema<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"stationId\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"event_time\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"parkingBikeTotCnt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"return\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rental\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            hourly_summary <span class=\"token operator\">=</span> result_df<span class=\"token punctuation\">.</span>groupBy<span class=\"token punctuation\">(</span><span class=\"token string\">\"stationId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>agg<span class=\"token punctuation\">(</span>\n                F<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rental\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>alias<span class=\"token punctuation\">(</span><span class=\"token string\">\"total_rental\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                F<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"return\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>alias<span class=\"token punctuation\">(</span><span class=\"token string\">\"total_return\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>withColumn<span class=\"token punctuation\">(</span><span class=\"token string\">\"hour\"</span><span class=\"token punctuation\">,</span> F<span class=\"token punctuation\">.</span>lit<span class=\"token punctuation\">(</span>current_hour<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n            previous_hour <span class=\"token operator\">=</span> current_hour <span class=\"token operator\">-</span> timedelta<span class=\"token punctuation\">(</span>hours<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\n            year <span class=\"token operator\">=</span> previous_hour<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">'%Y'</span><span class=\"token punctuation\">)</span>\n            month <span class=\"token operator\">=</span> previous_hour<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">'%m'</span><span class=\"token punctuation\">)</span>\n            day <span class=\"token operator\">=</span> previous_hour<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">'%d'</span><span class=\"token punctuation\">)</span>\n            hour <span class=\"token operator\">=</span> previous_hour<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">'%H'</span><span class=\"token punctuation\">)</span>\n\n            bucket_name <span class=\"token operator\">=</span> <span class=\"token string\">'ddareungidatabucket'</span>\n            folder_name <span class=\"token operator\">=</span> <span class=\"token string\">'hourly_summary'</span>\n            path <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"s3a://</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>bucket_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>folder_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>year<span class=\"token punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>month<span class=\"token punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>day<span class=\"token punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>hour<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span>\n            hourly_summary<span class=\"token punctuation\">.</span>repartition<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">.</span>mode<span class=\"token punctuation\">(</span><span class=\"token string\">\"overwrite\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>parquet<span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n\n            hourly_summary<span class=\"token punctuation\">.</span>orderBy<span class=\"token punctuation\">(</span><span class=\"token string\">\"stationId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n            batch_accumulator <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n        current_hour <span class=\"token operator\">=</span> now\n\n    batch_data <span class=\"token operator\">=</span> batch_df<span class=\"token punctuation\">.</span>collect<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> \n\n    changes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> row <span class=\"token keyword\">in</span> batch_data<span class=\"token punctuation\">:</span>\n        station_id <span class=\"token operator\">=</span> row<span class=\"token punctuation\">.</span>stationId\n        current_count <span class=\"token operator\">=</span> row<span class=\"token punctuation\">.</span>parkingBikeTotCnt\n        event_time <span class=\"token operator\">=</span> row<span class=\"token punctuation\">.</span>event_time\n\n        <span class=\"token keyword\">if</span> station_id <span class=\"token keyword\">in</span> state<span class=\"token punctuation\">:</span>\n            previous_count <span class=\"token operator\">=</span> state<span class=\"token punctuation\">[</span>station_id<span class=\"token punctuation\">]</span>\n            change <span class=\"token operator\">=</span> current_count <span class=\"token operator\">-</span> previous_count\n            <span class=\"token keyword\">if</span> change <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n                changes<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>station_id<span class=\"token punctuation\">,</span> event_time<span class=\"token punctuation\">,</span> current_count<span class=\"token punctuation\">,</span> change<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                batch_accumulator<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>station_id<span class=\"token punctuation\">,</span> event_time<span class=\"token punctuation\">,</span> current_count<span class=\"token punctuation\">,</span> change<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">elif</span> change <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n                changes<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>station_id<span class=\"token punctuation\">,</span> event_time<span class=\"token punctuation\">,</span> current_count<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>change<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                batch_accumulator<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>station_id<span class=\"token punctuation\">,</span> event_time<span class=\"token punctuation\">,</span> current_count<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>change<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                changes<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>station_id<span class=\"token punctuation\">,</span> event_time<span class=\"token punctuation\">,</span> current_count<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            changes<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>station_id<span class=\"token punctuation\">,</span> event_time<span class=\"token punctuation\">,</span> current_count<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            batch_accumulator<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>station_id<span class=\"token punctuation\">,</span> event_time<span class=\"token punctuation\">,</span> current_count<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        state<span class=\"token punctuation\">[</span>station_id<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> current_count\n\n\n    <span class=\"token keyword\">if</span> changes<span class=\"token punctuation\">:</span>\n        result_df <span class=\"token operator\">=</span> spark<span class=\"token punctuation\">.</span>createDataFrame<span class=\"token punctuation\">(</span>changes<span class=\"token punctuation\">,</span> schema<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"stationId\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"event_time\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"parkingBikeTotCnt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"return\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rental\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        result_df<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ìœ„ì—ëŠ” ë‚´ê°€ ë¬´ì§€ì„±ìœ¼ë¡œ ì½”ë”©í•œ ì½”ë“œë‹¤ ë¬´ì§€ì„±ìœ¼ë¡œ í–ˆë‹¤ëŠ” ëœ»ì€ ê·¸ëƒ¥ ê¸°ëŠ¥ì— ì¶©ì‹¤í•˜ê²Œ <font color=\"#c00000\">í™•ì¥ì„± ê³ ë ¤í•˜ì§€ ì•Šê³  ë‚´ê°€ ì•„ëŠ” íŒŒì´ì¬ ì½”ë“œëŒ€ë¡œ ì§°ë‹¤ëŠ” ëœ»</font>ì´ë‹¤.(<del>ëŒ€ì¶© ì˜ì‹ì˜ íë¦„ëŒ€ë¡œ ì§°ë‹¤ëŠ” ê²ƒ</del>) ì§€ê¸ˆ ë³´ë©´ 1ì‹œê°„ë§ˆë‹¤ ë°ì´í„°ë¥¼ ìŒ“ì•„ë’€ë‹¤ê°€ ì§‘ê³„ë¥¼ í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ìƒíƒœ ë°ì´í„°ë¥¼ ì „ì—­ë³€ìˆ˜ë¡œ ì„¤ì •í•´ë‘ê³  ì‹œê°„ì°½ ì¦‰ ì‹œê°„ì´ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ ê³„ì†í•´ì„œ ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸ ì‹œê°„ì´ ë³€ê²½ë˜ë©´ í•œì‹œê°„ì´ ì§€ë‚¬ë‹¤ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ ë°ì´í„° ì§‘ê³„ ë° ì „ì†¡ ë° ìƒíƒœì°½ ì´ˆê¸°í™” ë¥¼ í•˜ê³  ìˆë‹¤.</p>\n<p>ê·¼ë° ì ì—¬ê¸°ì„œ ë³´ì ì§€ê¸ˆ ë³´ë©´ ë°ì´í„°ë¥¼ ë³€í™˜í•˜ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ì½ì–´ ë“¤ì´ëŠ” ë¶€ë¶„ì´ ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ë¬¶ì—¬ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">batch_data <span class=\"token operator\">=</span> batch_df<span class=\"token punctuation\">.</span>collect<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> </code></pre></div>\n<p>ì•„ê¹Œ ë§í–ˆë“¯ì´ ì´ëŠ” ë°ì´í„°ë¥¼ ë“œë¼ì´ë²„ ë…¸ë“œë¡œ ìˆ˜ì§‘í•˜ëŠ” ê²ƒìœ¼ë¡œ ê¸°ê» êµ¬ì¶•í•œ Sparkì˜ ìµœì¥ì ì¸ ë³‘ë ¬ì²˜ë¦¬ì˜ ì´ì ì„ ì“°ë ˆê¸°í†µì— ë°•ì•„ë„£ì€ í–‰ìœ„ë‹¤.</p>\n<p>ê·¸ë˜ì„œ ì½”ë“œë¥¼ forë¬¸ê³¼ ifë¬¸ìœ¼ë¡œë§Œ ì§œë‘” ì´ë¦„í•˜ì—¬ ë”ëŸ¬ìš´ ì½”ë“œê°€ ì™„ì„±ì´ ë˜ì—ˆë‹¤.</p>\n<h3 id=\"spark_sql\" style=\"position:relative;\"><a href=\"#spark_sql\" aria-label=\"spark_sql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spark_SQL</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">update_state</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> batch_df<span class=\"token punctuation\">,</span> batch_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        now <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>utcnow<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span>minute<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> second<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> microsecond<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        joined_df <span class=\"token operator\">=</span> batch_df<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>state_df<span class=\"token punctuation\">,</span> on<span class=\"token operator\">=</span><span class=\"token string\">\"stationId\"</span><span class=\"token punctuation\">,</span> how<span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span><span class=\"token punctuation\">)</span>\n\n        changes_df <span class=\"token operator\">=</span> joined_df<span class=\"token punctuation\">.</span>withColumn<span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"previous_parkingBikeTotCnt\"</span><span class=\"token punctuation\">,</span> F<span class=\"token punctuation\">.</span>coalesce<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"previous_parkingBikeTotCnt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> F<span class=\"token punctuation\">.</span>lit<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>withColumn<span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"change\"</span><span class=\"token punctuation\">,</span> \n            F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"parkingBikeTotCnt\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"previous_parkingBikeTotCnt\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>withColumn<span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"return\"</span><span class=\"token punctuation\">,</span> \n            F<span class=\"token punctuation\">.</span>when<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"change\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"change\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>otherwise<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>withColumn<span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"rental\"</span><span class=\"token punctuation\">,</span> \n            F<span class=\"token punctuation\">.</span>when<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"change\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"change\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>otherwise<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>withColumn<span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"change\"</span><span class=\"token punctuation\">,</span> \n            F<span class=\"token punctuation\">.</span>when<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"previous_parkingBikeTotCnt\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>otherwise<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"change\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>withColumn<span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"return\"</span><span class=\"token punctuation\">,</span> \n            F<span class=\"token punctuation\">.</span>when<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"previous_parkingBikeTotCnt\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>otherwise<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"return\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>withColumn<span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"rental\"</span><span class=\"token punctuation\">,</span> \n            F<span class=\"token punctuation\">.</span>when<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"previous_parkingBikeTotCnt\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>otherwise<span class=\"token punctuation\">(</span>F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"rental\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span>\n\n        new_state_df <span class=\"token operator\">=</span> changes_df<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span>\n            F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"stationId\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            F<span class=\"token punctuation\">.</span>col<span class=\"token punctuation\">(</span><span class=\"token string\">\"parkingBikeTotCnt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>alias<span class=\"token punctuation\">(</span><span class=\"token string\">\"previous_parkingBikeTotCnt\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span>\n\n        self<span class=\"token punctuation\">.</span>state_df <span class=\"token operator\">=</span> new_state_df\n\n        hourly_summary <span class=\"token operator\">=</span> changes_df<span class=\"token punctuation\">.</span>groupBy<span class=\"token punctuation\">(</span>\n            F<span class=\"token punctuation\">.</span>window<span class=\"token punctuation\">(</span><span class=\"token string\">\"event_time\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1 hour\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"stationId\"</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>agg<span class=\"token punctuation\">(</span>\n            F<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rental\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>alias<span class=\"token punctuation\">(</span><span class=\"token string\">\"total_rental\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            F<span class=\"token punctuation\">.</span><span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"return\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>alias<span class=\"token punctuation\">(</span><span class=\"token string\">\"total_return\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span>\n            <span class=\"token string\">\"window.start\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"window.end\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"stationId\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"total_rental\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"total_return\"</span>\n        <span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> hourly_summary</code></pre></div>\n<p>ë„ˆë¬´ë‚˜ë„ ê¹”ë”(?)í•´ì§„ ì½”ë“œë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ë¨¼ì € ë°”ë€ì ì„ ì•Œì•„ë³´ì. ì²˜ìŒì— ë°°ì¹˜ ë°ì´í„°ì™€ ê¸°ì¡´ ìƒíƒœ ë°ì´í„°ë¥¼ leftjoin í•˜ëŠ”ë° ìš°ì„  ì´ˆê¸°ì— ì¡°ì¸ ì‹œ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ <code class=\"language-text\">previous_parkingBikeTotCnt</code>ê°€ 0ì¸ ê²½ìš° <code class=\"language-text\">change</code>, <code class=\"language-text\">return</code>, <code class=\"language-text\">rental</code> ê°’ì„ 0ìœ¼ë¡œ ì„¤ì •í•´ì¤€ë‹¤.  <br><br> ê·¸ë¦¬ê³  <code class=\"language-text\">parkingBikeTotCnt</code> - <code class=\"language-text\">previous_parkingBikeTotCnt</code> = <code class=\"language-text\">change</code>ë¡œ ë‘” ë’¤ì— change ê°’ì´ ì–‘ìˆ˜ì´ë©´ returnì— change ê°’ì´ ìŒìˆ˜ì´ë©´ rentalì— ì €ì¥ í•˜ê³  ê·¸ ì´ì™¸ëŠ” 0ìœ¼ë¡œ ì €ì¥í•œë‹¤.\n<br><br> ê·¸ë ‡ê²Œ ë°ì´í„°ê°€ ë“¤ì–´ì˜¬ë•Œ ë§ˆë‹¤ ì´ëŸ° ì—°ì‚°ì´ ë°˜ë³µë˜ê³  1ì‹œê°„ì´ë¼ëŠ” window ì¦‰ ì‹œê°„ì°½ì´ ì§€ë‚˜ê²Œ ë˜ë©´ <code class=\"language-text\">groupBy</code>ì—°ì‚°ì´ ì‹¤í–‰ë˜ë©´ì„œ ì•„ë˜ì™€ ê°™ì€ í•œì‹œê°„ ì§‘ê³„ ë¶„ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„° í”„ë ˆì„ì´ ì™„ì„±ëœë‹¤.</p>\n<table>\n<thead>\n<tr>\n<th>window.start</th>\n<th>window.end</th>\n<th>stationId</th>\n<th>total_rental</th>\n<th>total_return</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2023-08-03 06:00:00</td>\n<td>2023-08-03 07:00:00</td>\n<td>station1</td>\n<td>20</td>\n<td>23</td>\n</tr>\n<tr>\n<td>2023-08-03 06:00:00</td>\n<td>2023-08-03 07:00:00</td>\n<td>station2</td>\n<td>3</td>\n<td>6</td>\n</tr>\n<tr>\n<td>2023-08-03 06:00:00</td>\n<td>2023-08-03 07:00:00</td>\n<td>station3</td>\n<td>12</td>\n<td>9</td>\n</tr>\n<tr>\n<td>2023-08-03 06:00:00</td>\n<td>2023-08-03 07:00:00</td>\n<td>station4</td>\n<td>8</td>\n<td>7</td>\n</tr>\n</tbody>\n</table>\n<p>ê·¸ë¦¬ê³  ì´ì œ í•´ë‹¹ ì ì œ ê²°ê³¼ë¥¼ S3 ì–‘ë™ì´ì— ì°¨ê³¡ì°¨ê³¡ ë‹´ì•„ì£¼ë©´ ëœë‹¤.\nì„¸ë¶€ì ì¸ ì½”ë“œëŠ” ì•„ë˜ì—ì„œ í™•ì¸í•˜ì.ã…ã…\n<a href=\"https://github.com/StatisticsFox/Ddareungi-Spark\">https://github.com/StatisticsFox/Ddareungi-Spark</a></p>\n<h2 id=\"ë§ˆë¬´ë¦¬í•˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC%ED%95%98%EB%A9%B0\" aria-label=\"ë§ˆë¬´ë¦¬í•˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬í•˜ë©°</h2>\n<p>ì‚¬ì‹¤ Sparkì˜ ê°œë…ì— ëŒ€í•´ì„œëŠ” ì•Œê³  ìˆì—ˆë‹¤. ê·¼ë° ì´ê²Œ ì½”ë“œë¥¼ ì§¤ë•Œ ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ëŠ” ëª°ëë‹¤. SparkëŠ” ì–´ë–¤ê±°ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ íŠ¹ì„±ì€ ë­”ì§€ ë“±ì„ ì•Œê³  ìˆì—ˆëŠ”ë° ì´ë ‡ê²Œ ì½”ë“œë¥¼ ì§ì ‘ ì§œëŠ” ê³¼ì •ì—ì„œ ì•Œê³  ìˆëŠ” ë‚´ìš©ì„ ì½”ë“œì— ë…¹ì—¬ë‚´ëŠ”ê±´ í™•ì‹¤íˆ í”„ë¡œì íŠ¸ë¥¼ í•´ë³´ë©´ì„œ ëª¸ìœ¼ë¡œ ìµí˜€ì•¼ í•˜ëŠ” ê²ƒ ê°™ë‹¤. ì¼ë‹¨ í˜„ì¬ëŠ” 30ì´ˆë§ˆë‹¤ ì¹´í”„ì¹´ì—ì„œ ë¶ˆëŸ¬ì˜¤ê³  ìˆëŠ”ë° ì ì°¨ 10ì´ˆ 5ì´ˆë¡œ ì¤„ì´ëŠ” ê³¼ì •ì—ì„œ ë©”ëª¨ë¦¬ê°€ ì–¼ë§ˆë‚˜ ë¶€ì¡±í•´ì§€ëŠ”ì§€ ê·¸ëŸ´ ê²½ìš° ì–¼ë§ˆë‚˜ ë¬´ì—‡ì„ ë” ìµœì í™”í•´ì•¼ í•˜ëŠ”ì§€ ë“±ì„ í”„ë¡œì íŠ¸ë¥¼ ë§ˆë¬´ë¦¬í•´ ê°€ë©´ì„œ í™•ì¸í•´ë³¼ ì˜ˆì •ì´ë‹¤. ê·¸ë•Œ ë‹¤ì‹œ ê¸€ë¡œ ëŒì•„ì˜¤ê² ë”°!!</p>","frontmatter":{"date":"August 03, 2024","title":"ETLì˜ T(transform)ë¥¼ ìœ„í•œ Spark-Streaming ì½”ë“œ ì‘ì„±í•˜ê¸°","categories":"Data_Engineering","author":"ìµœì§€í˜","emoji":"ğŸ˜®"},"fields":{"slug":"/Data Engineering/ETLì˜ T(transform)ë¥¼ ìœ„í•œ Spark-Streaming ì½”ë“œ ì‘ì„±í•˜ê¸°/"}},"prev":{"id":"d65508b6-6427-511e-9cb6-6ddb7e63e3ab","html":"<h2 id=\"ë“¤ì–´ê°€ê¸°ì—-ì•ì„œ\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\" aria-label=\"ë“¤ì–´ê°€ê¸°ì— ì•ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸°ì— ì•ì„œ</h2>\n<p>ìµœê·¼ì— BOAZ ë™ì•„ë¦¬ì—ì„œ Oauto2ì™€ goole calenderë¥¼ ì´ìš©í•´ì„œ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“œëŠ” í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ”ë°(<del>ê³„íšì— ì „í˜€ì—†ë˜ ë¦¬ì•¡íŠ¸ê¹Œì§€ ì¨ë³´ëŠ”ì¤‘ğŸ¥²</del>) ì „ë°˜ì ì¸ ì¸í”„ë¼ êµ¬ì„±ì„ ë‚´ê°€ ë§¡ì•˜ë‹¤. ì´ë•Œ, ë„ë©”ì¸ì„ AWS EC2ì— ë“±ë¡í•˜ëŠ” ê³¼ì •ì—ì„œ ë¡œë“œë°¸ëŸ°ì„œë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤. ALB ë¡œë“œ ë°¸ëŸ°ì„œì— SSL ì¸ì¦ì„ ì ìš©í•˜ë©´ ê° Ec2 ì¸ìŠ¤í„´ìŠ¤ ë§ˆë‹¤ SSLì„ ì²˜ë¦¬í•˜ì§€ ì•Šì•„ë„ HTTPS íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆê¸°ì— ë°˜ë“œì‹œ í•„ìš”í•œ ë¶€ë¶„ì´ì—ˆë‹¤. ê·¸ ê³¼ì •ì—ì„œ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ë‹¨ìˆœíˆ â€œê·¸ëƒ¥ ë¶€í•˜ë¶„ì‚° ì•„ë‹˜?â€ìœ¼ë¡œ ì•Œê³  ìˆë˜ ë‚˜ì—ê²Œ ê°œë…ì •ë¦¬ê°€ ê¼­ í•„ìš”í•œ ë¶€ë¶„ì´ë¼ ì´ë²ˆ ê¸€ì„ ì‘ì„±í•˜ê²Œ ë˜ì—ˆë‹¤. ê·¸ëŸ¼ ì‹œì‘í•´ë³´ì\n<img src=\"https://onedrive.live.com/embed?resid=9DED56BE8CF81C92%21211&#x26;authkey=%21AInaQqp_g1hhKd0&#x26;width=564&#x26;height=311\" alt=\"ì‹œì‘í•´ë³´ì\"></p>\n<h2 id=\"core\" style=\"position:relative;\"><a href=\"#core\" aria-label=\"core permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Core</h2>\n<p>ê¸°ë³¸ì ìœ¼ë¡œ ë¡œë“œë°¸ëŸ°ì„œëŠ” Scale outì—ì„œ ì‚¬ìš©ëœë‹¤. ì„œë¹„ìŠ¤ëŠ” ì„±ì¥í•˜ëŠ”ë° ëŠ˜ì–´ë‚˜ëŠ” íŠ¸ë˜í”½ì„ ì„œë²„ê°€ ê°ë‹¹í•  ìˆ˜ ì—†ì„ë•Œ ì„œë²„ë¥¼ ì¦ì„¤í•˜ëŠ”ë° ì´ ê³¼ì •ì—ì„œ ê° ì„œë²„ì— ê±¸ë¦¬ëŠ” ë¶€í•˜ë¥¼ ê³ ë¥´ê²Œ ë‚˜ëˆ„ê¸° ìœ„í•´ì„œëŠ” ë¡œë“œë°¸ëŸ°ì‹±ì´ í•„ìˆ˜ì ìœ¼ë¡œ ë™ë°˜ë˜ì–´ì•¼ í•œë‹¤.</p>\n<blockquote>\n<p>ì¦‰ ë‹¤ì–‘í•œ ê³³ì—ì„œ ë“¤ì–´ì˜¤ëŠ”<font color=\"#c00000\"> íŠ¸ë˜í”½ì„ ì—¬ëŸ¬ ì„œë²„ì— ë¶„ì‚°</font>ì‹œì¼œ í•˜ë‚˜ì˜ ì„œë²„ì— ë¶€ë‹´ì´ ê°€ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ ë¡œë“œë°¸ëŸ°ì‹±ì˜ ì£¼ìš” ëª©ì ì´ë©°, ì´ë¥¼ í†µí•´ <font color=\"#c00000\">ì„œë²„ì˜ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.</font></p>\n</blockquote>\n<h2 id=\"ë¡œë“œë°¸ëŸ°ì‹±ì˜-ì´ì \" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1%EC%9D%98-%EC%9D%B4%EC%A0%90\" aria-label=\"ë¡œë“œë°¸ëŸ°ì‹±ì˜ ì´ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œë“œë°¸ëŸ°ì‹±ì˜ ì´ì </h2>\n<h3 id=\"ê°€ìš©ì„±\" style=\"position:relative;\"><a href=\"#%EA%B0%80%EC%9A%A9%EC%84%B1\" aria-label=\"ê°€ìš©ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°€ìš©ì„±</h3>\n<p>ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ë¥¼ í•´ì•¼ í•˜ëŠ” ìƒí™©ì— ì„œë²„ê°€ ê°€ë™ ì¤‘ì§€ëœë‹¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ë¡œë“œë°¸ëŸ°ì„œëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ì‚¬ìš©ê°€ëŠ¥í•œ ì„œë²„ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•˜ëŠ” ê´€ë¦¬ì ê°™ì€ ì—­í• ì„ í•œë‹¤.</p>\n<h3 id=\"í™•ì¥ì„±\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1\" aria-label=\"í™•ì¥ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í™•ì¥ì„±</h3>\n<p>í•œ ì„œë²„ì— íŠ¸ë˜í”½ì´ ëª°ë¦¬ëŠ” ë³‘ëª©í˜„ìƒì„ ë°©ì§€í•˜ê³  íŠ¸ë˜í”½ì„ ì˜ˆì¸¡í•˜ì—¬ ë‹¤ë¥¸ ì„œë²„ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•œë‹¤.</p>\n<h3 id=\"ë³´ì•ˆ\" style=\"position:relative;\"><a href=\"#%EB%B3%B4%EC%95%88\" aria-label=\"ë³´ì•ˆ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë³´ì•ˆ</h3>\n<p>í¬ë¡¤ë§ì´ë‚˜ ì•…ì„± í”„ë¡œê·¸ë¨ ë“± ê³µê²©ìê°€ ì„œë²„ ì¥ì• ë¥¼ ì¼ìœ¼í‚¤ëŠ” ìˆ˜ë°±ë§Œ ê°œì˜ ë™ì‹œ ìš”ì²­ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¥¼ ê°€ë“ ì±„ìš°ëŠ” ê³µê²©ì„ ë°©ì§€í•˜ê±°ë‚˜ ìµœì†Œí™”í•œë‹¤.</p>\n<h3 id=\"ì„±ëŠ¥\" style=\"position:relative;\"><a href=\"#%EC%84%B1%EB%8A%A5\" aria-label=\"ì„±ëŠ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„±ëŠ¥</h3>\n<p>ì‘ë‹µ ì‹œê°„ì„ ëŠ˜ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì‹œê°„ì„ ì¤„ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ì„ í–¥ìƒí•©ë‹ˆë‹¤.</p>\n<h2 id=\"ë¡œë“œë°¸ëŸ°ì‹±-ì•Œê³ ë¦¬ì¦˜\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\" aria-label=\"ë¡œë“œë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œë“œë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜</h2>\n<p>ë¡œë“œë²¨ëŸ°ì‹±ì—ë„ ì—¬ëŸ¬ ì•Œê³ ì¦˜ì´ ì¡´ì¬í•˜ëŠ”ë° ê°€ì¥ í”í•œ ê²ƒì´ ë¼ìš´ë“œ ë¡œë¹ˆ, ê°€ì¤‘ì¹˜ ë¶„ë°°, ìµœì†Œì—°ê²° ë°©ì‹ì´ ìˆë‹¤. ë‹¤ë§Œ ì„œë¡œ ë‹¤ë¥¸ ì í•©í•œ ì¼€ì´ìŠ¤ê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©í™˜ê²½ì— ë”°ë¼ ì ì ˆí•œ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ì„ íƒí•´ì•¼ í•œë‹¤.</p>\n<p>ë¨¼ì € ì •ì  ë¡œë“œ ë°¸ëŸ°ì‹±ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì</p>\n<h3 id=\"ë¼ìš´ë“œ-ë¡œë¹ˆ-ë°©ì‹round-robin-method\" style=\"position:relative;\"><a href=\"#%EB%9D%BC%EC%9A%B4%EB%93%9C-%EB%A1%9C%EB%B9%88-%EB%B0%A9%EC%8B%9Dround-robin-method\" aria-label=\"ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹round robin method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹(Round Robin Method)</h3>\n<p>í¬ì»¤ ì¹ ë•Œ ë”œëŸ¬ê°€ ì¹´ë“œ ëŒë¦¬ëŠ” ê²ƒì„ ìƒê°í•˜ë©´ ëœë‹¤. ë”œëŸ¬ê°€ ì¹´ë“œë¥¼ ì™¼ìª½ ì‚¬ëŒë¶€í„° ì°¨ë¡€ì°¨ë¡€ ì¹´ë“œë¥¼ ê±´ë‚´ì£¼ê³  ë§ˆì§€ë§‰ ì‚¬ëŒê¹Œì§€ ë‹¤ ì£¼ë©´ ë‹¤ì‹œ ì²˜ìŒ ì¤¬ë‹¨ ì‚¬ëŒìœ¼ë¡œ ë˜ëŒì•„ê°€ ì£¼ëŠ” ê²ƒì„ ë°˜ë³µí•˜ëŠ”ë° í•´ë‹¹ ë°©ì‹ë„ ì„œë²„ A, B, C ê°€ ìˆë‹¤ë©´ A â†’ B â†’ C â†’ A ìˆœì„œëŒ€ë¡œ ë¶„ë°°í•œë‹¤. ë³´í†µ ëª¨ë“  ì„œë²„ê°€ ê°™ì€ ì–‘ì¼ë•Œ ì´ë ‡ê²Œ í•œë‹¤.</p>\n<h3 id=\"ê°€ì¤‘ì¹˜-ê¸°ë°˜-ë¼ìš´ë“œ-ë¡œë¹ˆ-ë°©ì‹weighted-round-robin-method\" style=\"position:relative;\"><a href=\"#%EA%B0%80%EC%A4%91%EC%B9%98-%EA%B8%B0%EB%B0%98-%EB%9D%BC%EC%9A%B4%EB%93%9C-%EB%A1%9C%EB%B9%88-%EB%B0%A9%EC%8B%9Dweighted-round-robin-method\" aria-label=\"ê°€ì¤‘ì¹˜ ê¸°ë°˜ ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹weighted round robin method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°€ì¤‘ì¹˜ ê¸°ë°˜ ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹(Weighted Round Robin Method)</h3>\n<p>ì—¬ëŸ¬ ì„œë²„ê°€ ê°™ì€ ì‚¬ì–‘ì´ ì•„ë‹ˆê³ , íŠ¹ì • ì„œë²„ì˜ ìŠ¤í™ì´ ë” ì¢‹ì€ ê²½ìš° ì´ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤. 5ì‚´ì§œë¦¬ì™€ 20ì‚´ì§œë¦¬ê°€ ë°¥ì„ ë¨¹ëŠ”ë° ë‹¹ì—°íˆ 20ì‚´ ì§œë¦¬ì—ê²Œ ë°¥ì„ ë” ë§ì´ ì£¼ëŠ” ê²ƒì²˜ëŸ¼ ê·¸ë¦‡ í°ë†ˆí•œí…Œ íŠ¸ë˜í”½ ì²˜ë¦¬ëŸ‰ ëª°ì•„ì£¼ëŠ” ë°©ì‹ì´ë‹¤.</p>\n<h3 id=\"ip-í•´ì‹œ-ë°©ì‹ip-hash-method\" style=\"position:relative;\"><a href=\"#ip-%ED%95%B4%EC%8B%9C-%EB%B0%A9%EC%8B%9Dip-hash-method\" aria-label=\"ip í•´ì‹œ ë°©ì‹ip hash method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IP í•´ì‹œ ë°©ì‹(IP Hash Method)</h3>\n<p>ì—¬ê¸°ì„œëŠ” ìˆ˜í•™ì  ê³„ì‚°ì¸ í•´ì‹±ì´ë¼ëŠ” ê¸°ë²•ì´ ë“¤ì–´ê°€ëŠ”ë° ì‚¬ìš©ì ipë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ì‹±í•˜ì—¬ ì‚¬ìš©ìê°€ í•­ìƒ ë™ì¼í•œ ì„œë²„ë¡œ ì—°ê²°ë˜ëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤. ìš°ë¦¬ ì§‘ ì™€ì´íŒŒì´ë¡œ ì–´ë–¤ ì„œë¹„ìŠ¤ì— ì ‘ì†í•˜ë©´ ìš°ë¦¬ì§‘ ì™€ì´íŒŒì´ëŠ” ê·¸ ì„œë¹„ìŠ¤ì˜ í•­ìƒ ê°™ì€ ì„œë²„ë¡œ ì—°ê²°ëœë‹¤.</p>\n<p>ë‹¤ìŒì€ ë™ì  ë¡œë“œ ë°¸ëŸ°ì‹±ì— ëŒ€í•´ ì•Œì•„ë³´ì</p>\n<h3 id=\"ìµœì†Œ-ì—°ê²°-ë°©ë²•least-connection-method\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%86%8C-%EC%97%B0%EA%B2%B0-%EB%B0%A9%EB%B2%95least-connection-method\" aria-label=\"ìµœì†Œ ì—°ê²° ë°©ë²•least connection method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìµœì†Œ ì—°ê²° ë°©ë²•(Least Connection Method)</h3>\n<p>ëª¨ë“  ì„œë²„ê°€ ê°™ì€ ìŠ¤í™ì„ ì§€ë‹Œê²ƒì„ ê°€ì •í•˜ê³  ì ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•œë§ˆë””ë¡œ â€˜ì €ìš¸â€™ê³¼ ê°™ë‹¤. ì—°ê²°ì´ ì ì€ ì„œë²„ë¥¼ í™•ì¸í•˜ê³  ê·¸ ì„œë²„ë¡œ íŠ¸ë˜í”½ì„ ë¶„í• í•œë‹¤. ì €ìš¸ì´ í‰í–‰í•  ìˆ˜ ìˆë„ë¡!</p>\n<h3 id=\"ìµœì†Œ-ì‘ë‹µ-ì‹œê°„-ë°©ë²•least-response-time-method\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%86%8C-%EC%9D%91%EB%8B%B5-%EC%8B%9C%EA%B0%84-%EB%B0%A9%EB%B2%95least-response-time-method\" aria-label=\"ìµœì†Œ ì‘ë‹µ ì‹œê°„ ë°©ë²•least response time method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìµœì†Œ ì‘ë‹µ ì‹œê°„ ë°©ë²•(Least Response Time Method)</h3>\n<p>ì´ ë°©ì‹ì€ ê°œë°œìê°€ ì•„ë‹Œ ì‚¬ìš©ìê°€ ì–¼ë§ˆë‚˜ ë” ë§Œì¡±í• ê¹Œë¥¼ ê³ ë¯¼í•œ í”ì ì´ ë³´ì´ëŠ” ë¡œë“œë°¸ëŸ°ì‹±ì´ë‹¤. ì¦‰, ì„œë²„ì˜ í˜„ì¬ ì—°ê²°ìƒíƒœ ê·¸ë¦¬ê³  ì‘ë‹µì‹œê°„ì„ ê³ ë ¤í•´ì„œ ê°€ì¥ ì§§ì€ ì‘ë‹µì‹œê°„ì„ ë³´ë‚´ëŠ” ì„œë²„ë¡œ íŠ¸ë˜í”½ì„ í• ë‹¹í•œë‹¤. ì¦‰ í•œ ì„œë²„ì— ì—¬ìœ ê°€ ì—†ë”ë¼ë„ ì¡°ê±´ì— ë¶€í•©í•œë‹¤ë©´ ê·¸ ì„œë²„ì— íŠ¸ë˜í”½ì„ í• ë‹¹í•œë‹¤.</p>\n<h2 id=\"aws-ë¡œë“œ-ë°¸ëŸ°ì„œ-ìœ í˜•\" style=\"position:relative;\"><a href=\"#aws-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%9C%A0%ED%98%95\" aria-label=\"aws ë¡œë“œ ë°¸ëŸ°ì„œ ìœ í˜• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWS ë¡œë“œ ë°¸ëŸ°ì„œ ìœ í˜•</h2>\n<p>ì†”ì§íˆ í•œë²ˆì— ì´í•´í•˜ëŠ”ê±´ ì–´ë µê¸° ë•Œë¬¸ì— ê²½ì°°ì— ë¹„ìœ í•´ì„œ ì„¤ëª…í•´ ë³´ê³ ì í•œë‹¤.</p>\n<h3 id=\"albapplication-load-balancer\" style=\"position:relative;\"><a href=\"#albapplication-load-balancer\" aria-label=\"albapplication load balancer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ALB(Application Load Balancer)</h3>\n<p>ë¨¼ì € ALBëŠ” HTTP/HTTPS ê¸°ë°˜ìœ¼ë¡œ ìš”ì²­ì„ ê´€ë¦¬í•˜ëŠ” ì¦‰, ê²½ì°°ì„œ ë“¤ì–´ê°€ë©´ ì•ì— ì•‰ì€ ë§ë‹¨ ê²½ì°°ì´ë‹¤. ê·¸ë“¤ì€ ì‹œë¯¼ê³¼ ì§ì ‘ ëŒ€í™”í•˜ê¸°ì— ì„¸ì‹¬í•˜ê²Œ ì‹ ê³ ì¸ì˜ ìš”êµ¬ë¥¼ íŒŒì•…í•˜ê³  ê´€ë ¨ ë¶€ì„œë¡œ ì—°ê²°ì„ í•´ì¤€ë‹¤.</p>\n<ul>\n<li>ì˜ˆë¥¼ ë“¤ì–´ â€œì‚¬ê¸°ë¥¼ ë‹¹í–ˆì–´ìš”..â€ ë¼ê³  í•˜ë©´ ì‚¬ì´ë²„ ë²”ì£„ì¼ê¹Œìš”? ì•„ë‹ˆë©´ ê¸ˆìœµ, í”¼ì‹±? ì´ë ‡ê²Œ ë¬¼ì–´ë³¸ í›„ ê° ìƒí™©ì— ë§ëŠ” ë¶€ì„œì— ì—°ê²° ì‹œì¼œ ì¤€ë‹¤.</li>\n<li>ì¦‰, ALBëŠ” HTTP ìš”ì²­ì„ ë§¤ìš° ì„¸ì„¸í•˜ê²Œ ë¶„ì„í•´ì„œ ê·¸ ìš”ì²­ì— ë§ëŠ” ì„œë²„ë¡œ íŠ¸ë˜í”½ì„ ë³´ë‚¸ë‹¤. ì‚¬ìš©ìë§ˆë‹¤ ë‹¤ë¥¸ í˜ì´ì§€ë‚˜ ê¸°ëŠ¥ìœ¼ë¡œ ì—°ê²°í• ë•Œ ë§¤ìš° ìœ ìš©í•˜ë‹¤.</li>\n</ul>\n<h3 id=\"nlbnetwork-load-balancer\" style=\"position:relative;\"><a href=\"#nlbnetwork-load-balancer\" aria-label=\"nlbnetwork load balancer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NLB(Network Load Balancer)</h3>\n<p>NLBëŠ” TCP/UDP ê¸°ë°˜ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•˜ëŠ” ë¡œë“œ ë°¸ëŸ°ì„œë¡œ êµì°¨ë¡œì—ì„œ ì°¨ë“¤ì´ ì˜¤ê°ˆ ë•Œ ì‹ í˜¸ë¥¼ ë³´ê³  ë¹ ë¥´ê²Œ êµí†µ íë¦„ì„ ê´€ë¦¬í•˜ëŠ” êµí†µê²½ì°°ê³¼ ë¹„ìŠ·í•˜ë‹¤.</p>\n<ul>\n<li>êµí†µê²½ì°°ë“¤ì€ ì´ ì°¨ê°€ ë¬´ìŠ¨ ì°¨ì¸ì§€ ì–´ë–¤ ëª©ì ì„ ê°€ì§€ê³  ê°€ëŠ” ì°¨ì¸ì§€ ê´€ì‹¬ ì—†ê³  ê·¸ëƒ¥ ì‹ í˜¸ê°€ ë§ìœ¼ë©´ ë¹ ë¥´ê²Œ í†µê³¼ì‹œí‚¨ë‹¤.</li>\n<li>ì´ì²˜ëŸ¼ ì„¸ë¶€ì ì¸ ì •ë³´ë³´ë‹¤ëŠ” IP ì£¼ì†Œë‚˜ TCP ì—°ê²°ì„ ê¸°ë°˜ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ê³ , ê³ ì† í†µì‹ ì´ í•„ìš”í•œ ë¹„ìŠ¤ì— ì í•©í•˜ë‹¤.</li>\n</ul>\n<h3 id=\"elbelastic-load-balancer\" style=\"position:relative;\"><a href=\"#elbelastic-load-balancer\" aria-label=\"elbelastic load balancer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ELB(Elastic Load Balancer)</h3>\n<p>ELBëŠ” ê¸°ë³¸ì ì¸ íŠ¸ë˜í”½ ê´€ë¦¬ ê¸°ëŠ¥ë§Œ ì œê³µí•˜ëŠ” ë¹„êµì  ê°„ë‹¨í•œ ë…€ì„ì´ë‹¤. ì˜ˆë¥¼ë“¤ë©´ ë‹¨ìˆœíˆ ê²½ì°°ì²­ ì‚¬ì´íŠ¸ë¼ê³  ìƒê°í•˜ë©´ ë˜ê² ë‹¤.</p>\n<ul>\n<li>ì¸í„°ë„· ì‚¬ê¸° ë‹¹í–ˆëŠ”ë° ì–´ë””ë¡œ ê°ˆê¹Œìš” ë¼ê³  ë¬¼ì–´ë³´ë©´ ë‹¨ìˆœíˆ ì‚¬ê¸° ë‹´ë‹¹ ë¶€ì„œ ìœ„ì¹˜ë§Œ ì•Œë ¤ì£¼ê³  ëë‚´ëŠ” ëŠë‚Œì´ë‹¤.</li>\n<li>ì¦‰, ìš”ì¦˜ì€ ALBë‚˜ NLBì²˜ëŸ¼ ë” ì„¸ë¶€ì ì´ê±°ë‚˜ ë¹ ë¥¸ íŠ¸ë˜í”½ ì²˜ë¦¬ë¥¼ ìœ„í•œ ë¡œë“œ ë°¸ëŸ°ì„œê°€ ë” ë§ì´ ì‚¬ìš©í•œë‹¤.</li>\n</ul>\n<h2 id=\"ë”°ë¼ì„œ\" style=\"position:relative;\"><a href=\"#%EB%94%B0%EB%9D%BC%EC%84%9C\" aria-label=\"ë”°ë¼ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë”°ë¼ì„œ..</h2>\n<blockquote>\n<ul>\n<li>ALB: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ìë§ˆë‹¤ ë§ì¶¤í˜• ì‘ë‹µì´ í•„ìš”í•œ ê²½ìš°.</li>\n<li>NLB: ë¹ ë¥¸ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ì²˜ë¦¬, ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì´ í•„ìš”í•œ ê²½ìš°.</li>\n<li>ELB: ê°„ë‹¨í•œ íŠ¸ë˜í”½ ê´€ë¦¬ê°€ í•„ìš”í•œ ê²½ìš°, ì˜ˆì „ë¶€í„° ì‚¬ìš©ëœ ì•ˆì •ì ì¸ ë°©ì‹.</li>\n</ul>\n</blockquote>\n<p>ì´ë ‡ê²Œ ë¡œë“œ ë°¸ëŸ°ì„œì˜ ê°œë…ê³¼ AWSì— ìˆëŠ” 3ê°€ì§€ ë¡œë“œ ë°¸ëŸ°ì„œì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤. ì„¸ì›”ì´ ì§€ë‚˜ë©´ ë¶„ëª… ê¹Œë¨¹ì„ ê²ƒì´ ë»”í•˜ê¸° ë•Œë¬¸ì— ìµœëŒ€í•œ ì‰½ê²Œ ì´í•´í•˜ë ¤ê³  ë…¸ë ¥í•´ë´¤ë‹¤ ã…. ë¡œë“œ ë°¸ëŸ°ì„œ í•˜ë©´ ë­ë‹¤? ê²½ì°°ì´ë‹¤~~ í•˜ë©´ ì´ ë‚´ìš©ë“¤ì´ ë¨¸ë¦¬ì†ì—ì„œ ì˜ ìƒê°ë‚˜ì§€ ì•Šì„ê¹Œ í•œë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\">ë“¤ì–´ê°€ê¸°ì— ì•ì„œ</a></p>\n</li>\n<li>\n<p><a href=\"#core\">Core</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1%EC%9D%98-%EC%9D%B4%EC%A0%90\">ë¡œë“œë°¸ëŸ°ì‹±ì˜ ì´ì </a></p>\n<ul>\n<li><a href=\"#%EA%B0%80%EC%9A%A9%EC%84%B1\">ê°€ìš©ì„±</a></li>\n<li><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1\">í™•ì¥ì„±</a></li>\n<li><a href=\"#%EB%B3%B4%EC%95%88\">ë³´ì•ˆ</a></li>\n<li><a href=\"#%EC%84%B1%EB%8A%A5\">ì„±ëŠ¥</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\">ë¡œë“œë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜</a></p>\n<ul>\n<li><a href=\"#%EB%9D%BC%EC%9A%B4%EB%93%9C-%EB%A1%9C%EB%B9%88-%EB%B0%A9%EC%8B%9Dround-robin-method\">ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹(Round Robin Method)</a></li>\n<li><a href=\"#%EA%B0%80%EC%A4%91%EC%B9%98-%EA%B8%B0%EB%B0%98-%EB%9D%BC%EC%9A%B4%EB%93%9C-%EB%A1%9C%EB%B9%88-%EB%B0%A9%EC%8B%9Dweighted-round-robin-method\">ê°€ì¤‘ì¹˜ ê¸°ë°˜ ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹(Weighted Round Robin Method)</a></li>\n<li><a href=\"#ip-%ED%95%B4%EC%8B%9C-%EB%B0%A9%EC%8B%9Dip-hash-method\">IP í•´ì‹œ ë°©ì‹(IP Hash Method)</a></li>\n<li><a href=\"#%EC%B5%9C%EC%86%8C-%EC%97%B0%EA%B2%B0-%EB%B0%A9%EB%B2%95least-connection-method\">ìµœì†Œ ì—°ê²° ë°©ë²•(Least Connection Method)</a></li>\n<li><a href=\"#%EC%B5%9C%EC%86%8C-%EC%9D%91%EB%8B%B5-%EC%8B%9C%EA%B0%84-%EB%B0%A9%EB%B2%95least-response-time-method\">ìµœì†Œ ì‘ë‹µ ì‹œê°„ ë°©ë²•(Least Response Time Method)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#aws-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%9C%A0%ED%98%95\">AWS ë¡œë“œ ë°¸ëŸ°ì„œ ìœ í˜•</a></p>\n<ul>\n<li><a href=\"#albapplication-load-balancer\">ALB(Application Load Balancer)</a></li>\n<li><a href=\"#nlbnetwork-load-balancer\">NLB(Network Load Balancer)</a></li>\n<li><a href=\"#elbelastic-load-balancer\">ELB(Elastic Load Balancer)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%94%B0%EB%9D%BC%EC%84%9C\">ë”°ë¼ì„œ..</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"September 08, 2024","title":"Load Balancerë€? Feat. AWS","categories":"Data_Engineering Cloud","author":"ìµœì§€í˜","emoji":"ğŸ› ï¸"},"fields":{"slug":"/Cloud/Loadbalancer/"}},"site":{"siteMetadata":{"siteUrl":"https://statisticsfox.github.io","comments":{"utterances":{"repo":"StatisticsFox/blog-comments"}}}}},"pageContext":{"slug":"/Data Engineering/nginxë¡œ Spark, Yarn, kafkaui êµ¬ì„±í•˜ê¸°/","nextSlug":"/Data Engineering/ETLì˜ T(transform)ë¥¼ ìœ„í•œ Spark-Streaming ì½”ë“œ ì‘ì„±í•˜ê¸°/","prevSlug":"/Cloud/Loadbalancer/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}