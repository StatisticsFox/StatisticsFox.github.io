{"componentChunkName":"component---src-templates-blog-template-js","path":"/Data Engineering/nginxë¡œ Spark, Yarn, kafkaui êµ¬ì„±í•˜ê¸°/","result":{"data":{"cur":{"id":"a14666bd-b475-5985-9bcc-462ee1457782","html":"<h2 id=\"ë“¤ì–´ê°€ê¸°ì—-ì•ì„œ\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\" aria-label=\"ë“¤ì–´ê°€ê¸°ì— ì•ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸°ì— ì•ì„œ</h2>\n<p>kafka í† í”½ê´€ë¦¬ë‚˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ ê·¸ë¦¬ê³  SPARK ë©”ëª¨ë¦¬ë‚˜ yarn ê·¸ë¦¬ê³  í”„ë¡œì¼€í…Œìš°ìŠ¤ì™€ ê·¸ë¼íŒŒë‚˜ ë“±ì´ ì˜ ì‘ë™í•˜ëŠ”ì§€ ëª¨ë‘ clië¡œ ê´€ë¦¬í•˜ëŠ”ê²ƒì€ ëª…ë°±í•œ í•œê³„ê°€ ì¡´ì¬í•œë‹¤. ë„ˆë¬´ ë¶ˆí¸í•˜ê³  ê·¸ê²Œ ë‹¤ ì‹œê°„ ìì› ë¹¼ë¨¹ëŠ”ê±°ë‹¤. ë•Œë¬¸ì— Web uië¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ë³´í†µ êµ‰ì¥íˆ í¸í•œë° ì‚¬ìš©í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì™€ íˆ´ì´ ëŠ˜ì–´ë‚˜ëŠ” ë§Œí¼ ë§ì€ Web uië¥¼ ë„ì›Œì•¼ í•œë‹¤.</p>\n<p>ê·¸ë™ì•ˆ ë‚˜ëŠ” í¬íŠ¸ í¬ì›Œë”©ìœ¼ë¡œ ëª¨ë“  uië¥¼ ë„ì› ë‹¤. ì´ë ‡ê²Œ ëì„ ê²½ìš° ë‹¨ì ì€ <font color=\"#c00000\">ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë„ê³  í‚¬ë•Œë§ˆë‹¤ ë§¤ë²ˆ í¬íŠ¸í¬ì›Œë”©ì„ ìˆ˜ë™ìœ¼ë¡œ í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.</font>ê·¸ë™ì•ˆì€ í•œë²ˆì— í¬íŠ¸ í¬ì›Œë”©ì„ í•´ì£¼ëŠ” .shíŒŒì¼ì„ ê¸¸ê²Œ ë§Œë“¤ì–´ì„œ í•´ê²°í•´ì™”ìœ¼ë‚˜ ì ì  ê°ë‹¹í•˜ê¸° ì–´ë ¤ìš´ ìˆ˜ì¤€ê¹Œì§€ ê°”ë‹¤. ë•Œë¬¸ì— ë„ì…í•œ ê²ƒì´ ë°”ë¡œ ìš°ë¦¬ íŒ€ì› ë¡œì»¬ ë‚´ë¶€ì˜ hostsì— ipì£¼ì†Œì™€ ë„ë©”ì¸ ì´ë¦„ì„ ì§€ì •í•´ë‘ê³  nginxë¡œ uië¥¼ ë„ìš¸ ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ë‘ëŠ” ë°©í–¥ì´ì—ˆë‹¤.</p>\n<div align=\"center\">\n    <img src=\"https://onedrive.live.com/embed?resid=9DED56BE8CF81C92%21211&amp;authkey=%21AInaQqp_g1hhKd0&amp;width=564&amp;height=311\" alt=\"ì‹œì‘í•´ë³´ì\">\n</div>\n<h2 id=\"nginx-ì„¤ì •\" style=\"position:relative;\"><a href=\"#nginx-%EC%84%A4%EC%A0%95\" aria-label=\"nginx ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>nginx ì„¤ì •</h2>\n<h3 id=\"public-natì—-nginx-ì„¤ì¹˜í•˜ì—¬-http-rewriteí• -ìˆ˜-ìˆë„ë¡-ì„¤ì •\" style=\"position:relative;\"><a href=\"#public-nat%EC%97%90-nginx-%EC%84%A4%EC%B9%98%ED%95%98%EC%97%AC-http-rewrite%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8F%84%EB%A1%9D-%EC%84%A4%EC%A0%95\" aria-label=\"public natì— nginx ì„¤ì¹˜í•˜ì—¬ http rewriteí•  ìˆ˜ ìˆë„ë¡ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>public-natì— nginx ì„¤ì¹˜í•˜ì—¬ http rewriteí•  ìˆ˜ ìˆë„ë¡ ì„¤ì •</h3>\n<p>ë¨¼ì € nginxë¥¼ public-natì— ì„¤ì¹˜í•´ ì£¼ê³  nginx.confë¥¼ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ìˆ˜ì •í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ec2-user$ <span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> nginx\nec2-user$ <span class=\"token builtin class-name\">cd</span> /etc/nginx\nec2-user$ <span class=\"token function\">sudo</span> <span class=\"token function\">vi</span> nginx.conf</code></pre></div>\n<p>ê·¸ í›„ include ë°”ë¡œ ì•„ë˜ server ë¸”ë¡ ê¸°ì¡´ ë‚´ìš© ì‚­ì œ í›„ ì•„ë˜ resolverì™€ server ë¸”ë¡ ì‚½ì…í•˜ë©´ ëœë‹¤. ê°„í¸í•¨ì„ ìœ„í•´ ìš°ì„  kafka web uië§Œ ë“¤ê³ ì™”ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token comment\"># include /etc/nginx/conf.d/*.conf; &lt;- ìš” ì•„ë˜ì— ì‘ì„±</span>\n\n    resolver <span class=\"token number\">127.0</span>.0.1<span class=\"token punctuation\">;</span>\n \t\tserver <span class=\"token punctuation\">{</span>\n        listen <span class=\"token number\">8080</span><span class=\"token punctuation\">;</span>\n        server_name kafka03<span class=\"token punctuation\">;</span>\n        location / <span class=\"token punctuation\">{</span>\n            proxy_pass http://<span class=\"token operator\">&lt;</span>private IP address<span class=\"token operator\">></span>:<span class=\"token operator\">&lt;</span>port<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>  <span class=\"token comment\"># ì‹¤ì œ ë°±ì—”ë“œ ì£¼ì†Œë¡œ ë³€ê²½</span>\n            proxy_set_header Host <span class=\"token variable\">$http_host</span><span class=\"token punctuation\">;</span>\n            proxy_set_header X-Real-IP <span class=\"token variable\">$remote_addr</span><span class=\"token punctuation\">;</span>\n            proxy_set_header X-Forwarded-For <span class=\"token variable\">$proxy_add_x_forwarded_for</span><span class=\"token punctuation\">;</span>\n            proxy_set_header X-Forwarded-Proto <span class=\"token variable\">$scheme</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ ì–‘ì‹ìœ¼ë¡œ ëª¨ë“  í¬íŠ¸ë¥¼ ë‹¤ ì§€ì •í•´ ì£¼ë©´ ëœë‹¤. ì§€ê¸ˆ ìœ„ ì–‘ì‹ìœ¼ë¡œ confì— ì§€ì •í•˜ë©´ server_nameì— ì§€ì •í•œ ì´ë¦„ì´ ë°”ë¡œ ë„ë©”ì¸ ì´ë¦„ì´ë‹¤. ë‚˜ì¤‘ì— ë¡œì»¬ì—ë„ ì ìš©í•´ì¤„ ì˜ˆì •ì´ë‹ˆ ì˜ ê¸°ì–µí•´ì£¼ì.</p>\n<h2 id=\"nginx-ì„œë¹„ìŠ¤-ì‹œì‘\" style=\"position:relative;\"><a href=\"#nginx-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%8B%9C%EC%9E%91\" aria-label=\"nginx ì„œë¹„ìŠ¤ ì‹œì‘ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nginx ì„œë¹„ìŠ¤ ì‹œì‘</h2>\n<h3 id=\"nginxconf-ì‘ì„±-ì™„ë£Œë˜ë©´-nginx-ì„œë¹„ìŠ¤-ì‹œì‘\" style=\"position:relative;\"><a href=\"#nginxconf-%EC%9E%91%EC%84%B1-%EC%99%84%EB%A3%8C%EB%90%98%EB%A9%B4-nginx-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%8B%9C%EC%9E%91\" aria-label=\"nginxconf ì‘ì„± ì™„ë£Œë˜ë©´ nginx ì„œë¹„ìŠ¤ ì‹œì‘ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>nginx.conf ì‘ì„± ì™„ë£Œë˜ë©´ nginx ì„œë¹„ìŠ¤ ì‹œì‘</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ec2-user$ <span class=\"token function\">sudo</span> systemctl start nginx\nec2-user$ <span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> nginx</code></pre></div>\n<h3 id=\"ë¡œì»¬ì˜-etchosts-ë¥¼-ì´ìš©í•˜ì—¬-resolve-í•˜ë„ë¡-ì¶”ê°€-íŒ¨í‚¤ì§€-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EC%BB%AC%EC%9D%98-etchosts-%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-resolve-%ED%95%98%EB%8F%84%EB%A1%9D-%EC%B6%94%EA%B0%80-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98\" aria-label=\"ë¡œì»¬ì˜ etchosts ë¥¼ ì´ìš©í•˜ì—¬ resolve í•˜ë„ë¡ ì¶”ê°€ íŒ¨í‚¤ì§€ ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œì»¬ì˜ /etc/hosts ë¥¼ ì´ìš©í•˜ì—¬ resolve í•˜ë„ë¡ ì¶”ê°€ íŒ¨í‚¤ì§€ ì„¤ì¹˜</h3>\n<p>ë‹¤ìŒì€ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ í•˜ë‚˜ ë” ì„¤ì¹˜í•´ ì¤„ê±°ë‹¤. <code class=\"language-text\">dnsmasq</code>ë¼ëŠ” ê±´ë° ê²½ëŸ‰ DNS í¬ì›Œë” ë° DHCP ì„œë²„ë‹¤. ì´ê±¸ë¡œ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ íŒŒì¼(/etc/hosts)ì„ ì‚¬ìš©í•˜ì—¬ ë„ë©”ì¸ ì´ë¦„ì„ IP ì£¼ì†Œë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤. ìš°ë¦¬ëŠ” ë¡œì»¬ì—ì„œ ì ‘ì†í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ipì£¼ì†”ë¥´ ë³€í™˜í•´ì£¼ëŠ” í•µì‹¬ íŒ¨í‚¤ì§€ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ec2-user$ <span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> dnsmasq\nec2-user$ <span class=\"token function\">sudo</span> systemctl start dnsmasq\nec2-user$ <span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> dnsmasq</code></pre></div>\n<h3 id=\"ì„œë²„-ë°©í™”ë²½í•´ì œ-ë°-ì˜êµ¬ì €ì¥\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EB%B0%A9%ED%99%94%EB%B2%BD%ED%95%B4%EC%A0%9C-%EB%B0%8F-%EC%98%81%EA%B5%AC%EC%A0%80%EC%9E%A5\" aria-label=\"ì„œë²„ ë°©í™”ë²½í•´ì œ ë° ì˜êµ¬ì €ì¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„œë²„ ë°©í™”ë²½í•´ì œ ë° ì˜êµ¬ì €ì¥</h3>\n<p>ë°©í™”ë²½ì„ í•´ì œí•´ì£¼ê³ </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ec2-user$ <span class=\"token function\">sudo</span> iptables â€“F\nec2-user$ <span class=\"token function\">sudo</span> <span class=\"token function\">service</span> iptables save</code></pre></div>\n<h2 id=\"ë¡œì»¬ì˜-hosts-íŒŒì¼-ìˆ˜ì •\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EC%BB%AC%EC%9D%98-hosts-%ED%8C%8C%EC%9D%BC-%EC%88%98%EC%A0%95\" aria-label=\"ë¡œì»¬ì˜ hosts íŒŒì¼ ìˆ˜ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œì»¬ì˜ hosts íŒŒì¼ ìˆ˜ì •</h2>\n<h3 id=\"ë¡œì»¬-í™˜ê²½ì˜-hosts-íŒŒì¼ì—-í˜¸ìŠ¤íŠ¸-ë“±ë¡\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EC%BB%AC-%ED%99%98%EA%B2%BD%EC%9D%98-hosts-%ED%8C%8C%EC%9D%BC%EC%97%90-%ED%98%B8%EC%8A%A4%ED%8A%B8-%EB%93%B1%EB%A1%9D\" aria-label=\"ë¡œì»¬ í™˜ê²½ì˜ hosts íŒŒì¼ì— í˜¸ìŠ¤íŠ¸ ë“±ë¡ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œì»¬ í™˜ê²½ì˜ hosts íŒŒì¼ì— í˜¸ìŠ¤íŠ¸ ë“±ë¡</h3>\n<p>/etc/hosts íŒŒì¼ì— ì•„ë˜ public-natì— í• ë‹¹ëœ Elastic IP í™•ì¸ í›„ ë°”ë¡œ ì…ë ¥í•´ì£¼ë„ë¡ í•œë‹¤.\në³¸ì¸ ë¡œì»¬ì˜ /etc/hosts ë°‘ì— ì•„ë˜ì²˜ëŸ¼ ì ìš©í•´ì¤€ë‹¤. ì´ë¦„ì€ ì•„ê¹Œ nginx.confì—ì„œ ì„¤ì •í–ˆë˜ server_nameì„ì„ ìŠì§€ë§ì</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span>Elastic IP<span class=\"token punctuation\">}</span> kafka01 <span class=\"token comment\"># Elastic IP &lt;- public NAT IP</span>\n<span class=\"token punctuation\">{</span>Elastic IP<span class=\"token punctuation\">}</span> kafka02\n<span class=\"token punctuation\">{</span>Elastic IP<span class=\"token punctuation\">}</span> kafka03</code></pre></div>\n<h2 id=\"í™•ì¸\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9D%B8\" aria-label=\"í™•ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í™•ì¸</h2>\n<p>ê·¸ëŸ¬ë©´! ì§ ! êµ³ì´ public natì˜ ip ì£¼ì†Œì™€ í¬íŠ¸í¬ì›Œë”©ì„ ì´ìš©í•˜ì§€ ì•Šì•„ë„ ì´ì œëŠ” ì–¸ì œë“ ì§€ ì„œë²„ë¥¼ í‚¤ë©´ ì„¤ì •í•´ë‘” ë„ë©”ì¸ ì´ë¦„ìœ¼ë¡œ ì›í•˜ëŠ” webuiì— ì ‘ì†ì´ ê°€ëŠ¥í•˜ë‹¤.</p>\n<div align=\"center\">\n    <img src=\"https://1drv.ms/i/c/9ded56be8cf81c92/IQNF77uX7iyER6tUXEZYC-EMAV7SE2amV7b9rzz7SGpVVKM?width=1024\" alt=\"kafka_web_ui\">\n</div>","excerpt":"ë“¤ì–´ê°€ê¸°ì— ì•ì„œ kafka í† í”½ê´€ë¦¬ë‚˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ ê·¸ë¦¬ê³  SPARK ë©”ëª¨ë¦¬ë‚˜ yarn ê·¸ë¦¬ê³  í”„ë¡œì¼€í…Œìš°ìŠ¤ì™€ ê·¸ë¼íŒŒë‚˜ ë“±ì´ ì˜ ì‘ë™í•˜ëŠ”ì§€ ëª¨ë‘ clië¡œ ê´€ë¦¬í•˜ëŠ”ê²ƒì€ ëª…ë°±í•œ í•œê³„ê°€ ì¡´ì¬í•œë‹¤. ë„ˆë¬´ ë¶ˆí¸í•˜ê³  ê·¸ê²Œ ë‹¤ ì‹œê°„ ìì› ë¹¼ë¨¹ëŠ”ê±°ë‹¤. ë•Œë¬¸ì— Web uië¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ë³´í†µ êµ‰ì¥íˆ í¸í•œë° ì‚¬ìš©í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì™€ íˆ´ì´ ëŠ˜ì–´ë‚˜ëŠ” ë§Œí¼ ë§ì€ Web uië¥¼ ë„ì›Œì•¼ í•œë‹¤. ê·¸ë™ì•ˆ ë‚˜ëŠ” í¬íŠ¸ í¬ì›Œë”©ìœ¼ë¡œ ëª¨ë“  uië¥¼ ë„ì› ë‹¤. ì´ë ‡ê²Œ ëì„ ê²½ìš° ë‹¨ì ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë„ê³  í‚¬ë•Œë§ˆë‹¤ ë§¤ë²ˆ í¬íŠ¸í¬ì›Œë”©ì„ ìˆ˜ë™ìœ¼ë¡œ í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.ê·¸ë™ì•ˆì€ í•œë²ˆì— í¬íŠ¸ í¬ì›Œë”©ì„ í•´ì£¼ëŠ” .shíŒŒì¼ì„ ê¸¸ê²Œ ë§Œë“¤ì–´ì„œ í•´ê²°í•´ì™”ìœ¼ë‚˜ ì ì  ê°ë‹¹í•˜ê¸° ì–´ë ¤ìš´ ìˆ˜ì¤€ê¹Œì§€ ê°”ë‹¤. ë•Œë¬¸ì— ë„ì…í•œ ê²ƒì´ ë°”ë¡œ ìš°ë¦¬ íŒ€ì› ë¡œì»¬ ë‚´ë¶€ì˜ hostsì— ipì£¼ì†Œì™€ ë„ë©”ì¸ ì´ë¦„ì„ ì§€ì •í•´ë‘ê³  nginxë¡œ uië¥¼ ë„ìš¸ ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ë‘ëŠ” ë°©í–¥ì´ì—ˆë‹¤. nginx ì„¤ì • public-natì— nginx ì„¤ì¹˜í•˜ì—¬ http rewriteí•  ìˆ˜ ìˆë„ë¡ ì„¤ì • ë¨¼ì € nginâ€¦","frontmatter":{"date":"August 18, 2024","title":"nginxë¡œ Spark, Yarn, kafka ë“± ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ Web ui êµ¬ì„±í•˜ê¸°","categories":"Data_Engineering","author":"ìµœì§€í˜","emoji":"ğŸ“"},"fields":{"slug":"/Data Engineering/nginxë¡œ Spark, Yarn, kafkaui êµ¬ì„±í•˜ê¸°/"}},"next":{"id":"292776ae-979d-5701-bede-3ea0a87ceb19","html":"<h2 id=\"ë“¤ì–´ê°€ê¸°ì—-ì•ì„œ\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\" aria-label=\"ë“¤ì–´ê°€ê¸°ì— ì•ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸°ì— ì•ì„œ</h2>\n<p>ì´ë²ˆì— RAGë¥¼ ì´ìš©í•œ ì±„ìš©ì •ë³´ ì±—ë´‡ êµ¬ì¶•ì„ ìœ„í•´ Azure ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½(í†µì¹­ AKS)ì—ì„œ ETL í”„ë¡œì íŠ¸ë¥¼ í•´ë³´ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ê³„íšì„ ì§°ë‹¤.</p>\n<ol>\n<li>í”„ë¡œì íŠ¸ í™˜ê²½ì— airflowë¥¼ ë„ìš°ê³  ì£¼ê¸°ì ì¸ í¬ë¡¤ë§</li>\n<li>SPARKë¥¼ í†µí•œ ë°ì´í„° ë§ˆíŠ¸ êµ¬ì¶•</li>\n<li>GPT-3 í† í¬ë‚˜ì´ì €ë¥¼ ì´ìš©í•œ ë°ì´í„° ì„ë² ë”©</li>\n<li>í¬ë¡œë§ˆ DBì— ë°ì´í„° ì ì œ</li>\n</ol>\n<p>ì´ê±° í•  ìƒê°ì— ì”ëœ© ê¸°ëŒ€í•˜ê³  í—ˆê²ì§€ê² ì¼ë‹¨ AKS ìœ„ì— ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì˜¬ë¦° í›„ podì— airflowë¥¼ ì˜¬ë¦¬ê³  DAGë¥¼ GITìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œë” êµ¬ì„±í–ˆë‹¤. ACR(Azure Container Registry)ë„ ë§Œë“¤ì–´ ë„ì»¤ë¡œ í™˜ê²½ ë°°í¬ê¹Œì§€ ìë™í™”ë¥¼ í•´ë†¨ìœ¼ë‚˜ <font color=\"#c00000\">ê²°êµ­ ë¬´ì‚° ë˜ì—ˆë‹¤â€¦</font><br><br>\nê·¸ ì´ìœ ëŠ” ë°”ë¡œ ë¹„ìš©ë¬¸ì œì´ë‹¤. ì¼ë‹¨ ë‚´ê°€ ê°œë°œí•œ í¬ë¡¤ëŸ¬ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ë©´ ë°ì´í„°ì˜ í˜•íƒœê°€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"Datetime\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2024-08-10\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"[ê°•ë™/í†µê·¼] ì‚¼ì„±E&amp;A ë¹„ì„œ/ì‚¬ë¬´ë³´ì¡° ì‚¬ì› ì±„ìš©\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"URL\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://www.saramin.co.kr/zf_user/jobs/relay/view?view_type=search&amp;rec_idx=48782490&amp;location=ts&amp;searchType=search&amp;paid_fl=n&amp;search_uuid=004d110a-a231-41c0-92da-9655708bbb41\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"metadata\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"(ì£¼)ì—ìŠ¤ì´ì—ìŠ¤, [ê°•ë™/í†µê·¼] ì‚¼ì„±E&amp;A ë¹„ì„œ/ì‚¬ë¬´ë³´ì¡° ì‚¬ì› ì±„ìš©, ê²½ë ¥:ê²½ë ¥ë¬´ê´€, í•™ë ¥:í•™ë ¥ë¬´ê´€, ì—°ë´‰:2,960 ë§Œì›, ë§ˆê°ì¼:2024-08-19, í™ˆí˜ì´ì§€:www.seshr.co.kr\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"end_date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2024-08-19,\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"start_date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2024.08.09 14:00\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"Work_history\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ë¬´ê´€(ì‹ ì…í¬í•¨)\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"Education\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"í•™ë ¥ë¬´ê´€\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"Job_type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ê³„ì•½ì§, íŒŒê²¬ì§\\nìƒì„¸ë³´ê¸°\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"Salary\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ì—°ë´‰ 2,960 ë§Œì› (ì£¼ 40ì‹œê°„)\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ê·¼ë¬´í˜•íƒœ\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ìƒì„¸ë³´ê¸°\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"working time\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ì£¼ 5ì¼(ì›”~ê¸ˆ) 08:00~17:00\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"working area\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ì„œìš¸ ê°•ë™êµ¬ ì§€ë„\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"Co_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"(ì£¼)ì—ìŠ¤ì´ì—ìŠ¤\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"img_list\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"detail_data\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"[ê°•ë™/í†µê·¼] ì‚¼ì„±E&amp;A\\në¹„ì„œ/ì‚¬ë¬´ë³´ì¡° ì‚¬ì› ëª¨ì§‘\\nëª¨ì§‘ë¶€ë¬¸ ë° ìƒì„¸ë‚´ìš©\\nê³µí†µ ìê²©ìš”ê±´\\nã†í•™ë ¥ : ë¬´ê´€\\në¹„ì„œí–‰ì • 1ëª…\\n     ë‹´ë‹¹ì—…ë¬´\\n    ã†ë¹„ì„œ ì—…ë¬´\\n    ã†íŒ€ ì„œë¬´ ì—…ë¬´(íŒ€ ê³µí†µ ì—…ë¬´ ì§€ì›)\\n    ã†ì˜ˆì‚° ë° ì›”ë³„ ê²°ì‚° ì§€ì›(ê²½ë¹„ì²˜ë¦¬, ê³„ì‚°ì„œ ë“±)\\n    ã†ì¶œì¥ ì§€ì›(ë¹„ìì‹ ì²­ ë° ì˜ˆì•½ ë“±)\\n\\n ìê²©ì‚¬í•­\\nã†ë™ì¢…ì—…ê³„ ê²½ë ¥ì ìš°ëŒ€\\nã†MS-Office(ì›Œë“œ/ì—‘ì…€/íŒŒì›Œí¬ì¸íŠ¸) ëŠ¥í†µì ìš°ëŒ€\\nã†ê²½ë¦¬ì—…ë¬´ ê²½í—˜ì(SAP ë˜ëŠ” ERPì‹œìŠ¤í…œ ìœ ê²½í—˜ì ìš°ëŒ€)\\nã†ê·¼ê±°ë¦¬ ê±°ì£¼ì ìš°ëŒ€\\n\\n  â–  ì‚¼ì„±ê·¸ë£¹ì‚¬ ê²½ë ¥ ìŒ“ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\\n  â–  ë©´ì ‘í•©ê²© ì´í›„ ë¹ ë¥¸ ì¶œê·¼ ê°€ëŠ¥\\n  â–  ì„œìš¸,ê²½ê¸°,ì¸ì²œê¶Œ í†µê·¼ë²„ìŠ¤ ìš´í–‰\\n  â–  ê²½ë ¥ ì¦ëª…ì„œ ë°œê¸‰ ê°€ëŠ¥\\n\\nê·¼ë¬´ì¡°ê±´\\n\\n\\nê·¼ë¬´í˜•íƒœ : íŒŒê²¬ê³„ì•½ì§ (12ê°œì›”/ì—°ì¥ ì‹œ ìµœëŒ€ 2ë…„ê¹Œì§€ ê·¼ë¬´ê°€ëŠ¥) \\nê·¼ë¬´ì¼ì‹œ : ì£¼ 5ì¼(ì›”~ê¸ˆ) 08:00 ~ 17:00 (ì ì‹¬ì‹œê°„ 11:30 ~ 13:30 ä¸­ 1ì‹œê°„)\\nê·¼ë¬´ì§€ì—­ : ì„œìš¸ ê°•ë™êµ¬ ìƒì¼ë¡œ 6ê¸¸ 26 ê¸€ë¡œë²Œì—”ì§€ë‹ˆì–´ë§ì„¼í„°(ìƒì¼ë™ì—­ ì¸ê·¼)\\nê¸‰ì—¬ìˆ˜ì¤€ : 2,224,000ì›(ì„¸ì „) + ëª…ì ˆìƒì—¬ê¸ˆ ë³„ë„ (ì„¤ë‚ /ì¶”ì„ ê° 148ë§Œ ì—° 2íšŒ) + ì—°ì°¨ìˆ˜ë‹¹ ë³„ë„(ì”ì—¬ ë°œìƒ ì‹œ)  = ì—°ë´‰ê¸°ì¤€ ì•½ 2,960ë§Œ\\n\\në³µë¦¬í›„ìƒ : ëª…ì ˆìƒì—¬ê¸ˆ(ì—° 2íšŒ/ê·¼ì†ê¸°ê°„ ë¬´ê´€) / 4ëŒ€ë³´í—˜ / ì—°ì°¨ìˆ˜ë‹¹ / ê²½ì¡°íœ´ê°€ / ëª…ì ˆì„ ë¬¼ ë“±\\n \\n\\nì „í˜•ì ˆì°¨\\nì„œë¥˜ì „í˜•\\n1ì°¨ë©´ì ‘\\nìµœì¢…í•©ê²©\\nì ‘ìˆ˜ê¸°ê°„ ë° ë°©ë²•\\nã† ì ‘ìˆ˜ê¸°ê°„ : ~ 2024ë…„ 08ì›” 19ì¼ (ì›”) 09ì‹œ\\nã† ì ‘ìˆ˜ë°©ë²• : ì‚¬ëŒì¸ ì…ì‚¬ì§€ì› ë˜ëŠ”  sh0722@seshr.co.kr ë©”ì¼ ì ‘ìˆ˜\\nã† ì´ë ¥ì„œì–‘ì‹ : ìì‚¬ì–‘ì‹ (ì²¨ë¶€íŒŒì¼ ì°¸ì¡°) \\nìœ ì˜ì‚¬í•­\\nã†ì…ì‚¬ì§€ì› ì„œë¥˜ì— í—ˆìœ„ì‚¬ì‹¤ì´ ë°œê²¬ë  ê²½ìš°, ì±„ìš©í™•ì • ì´í›„ë¼ë„ ì±„ìš©ì´ ì·¨ì†Œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì—¬ê¸°ì„œ ë¬¸ì œê°€ ë°”ë¡œ â€˜detail_dataâ€™ë‹¤. ì´ ë°ì´í„°ë¥¼ <code class=\"language-text\">ì„ë² ë”©í•˜ëŠ”ë° ë“œëŠ” ë¹„ìš©</code>, <code class=\"language-text\">í•™ìŠµì‹œí‚¤ëŠ”ë° ë“œëŠ” ë¹„ìš©</code>, ê·¸ë¦¬ê³  í”„ë¡¬í”„íŠ¸ë§Œí•´ë„ <code class=\"language-text\">API ë¹„ìš©</code>ì´ ì—„ì²­ë‚˜ë‹¤. ê·¼ë° í•´ë‹¹ ê¸°ëŠ¥ì€ í•„ìˆ˜ì ì¸ ê¸°ëŠ¥ì´ë¼ ë°ì´í„° ì—”ì§€ë‹ˆì–´ë§ íŒŒíŠ¸ì—ì„œ ë¹„ìš© ì ˆê°ì„ í•˜ëŠ” ìˆ˜ë°–ì— ì—†ì—ˆê³  ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸°ë¡œ í–ˆë‹¤.ã…œã…œã…œ(<del>ë°ì—”ì˜ í¬ìƒ..</del>)  <br><br>\nì´ê±° ì–´ë–»ê²Œ í• ê¹Œ ì•Œì•„ë³´ëŠ”ë° <font color=\"#c00000\">EKSëŠ” ë…¸ë“œ í’€ ë‹¨ê³„ì—ì„œ ë¶€í„° ì„œë²„ë¦¬ìŠ¤ê°€ ê°€ëŠ¥</font>í•œ ë°˜ë©´ <font color=\"#0096FF\">AKS</font>ëŠ” ë…¸ë“œ í’€ ë¹„ìš©ì€ í•„ìˆ˜ ê·¸ë¦¬ê³  ê·¸ í›„ <font color=\"#0096FF\">ìŠ¤ì¼€ì¼ ì•„ì›ƒì—ì„œë§Œ ì„œë²„ë¦¬ìŠ¤ê°€ ì œê³µ</font>ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œì•˜ë‹¤. <del>Azure ì‹«ì–´í•˜ëŠ”ê±° ì•„ë‹Œë° ë­”ê°€ ë§›ì´ ì—†ë‹¤.</del>\në‹¤ë§Œ ìš°ë¦¬ëŠ” í•œì´ìŒ ë©˜í† ë‹˜ì´ ë§ˆì†Œ í˜„ì—­ì´ë¼ AWS ê¸ˆì§€ë ¹ì´ ë‚´ë ¤ì ¸ì„œ ìš¸ë©° ê²¨ìë¨¹ê¸°ë¡œ Azureë¥¼ ì¨ì•¼ í•˜ëŠ” ìƒí™©ì´ë‹¤.</p>\n<p>ê²°êµ­ ê·¸ëƒ¥ AzureFunctionì„ ì‚¬ìš©í•´ì„œ ì£¼ê¸°ì ìœ¼ë¡œ í¬ë¡¤ë§ì„ í•˜ê³  VM í•˜ë‚˜ ë„ì›Œì„œ ê·¸ ì•ˆì— Chroma DBë¥¼ ë„ìš°ê¸°ë¡œ í–ˆë‹¤.</p>\n<p>ê·¸ë˜ì„œ ì´ë¯¸ ì§„í–‰í•œ AKS êµ¬ì¶•í•´ ë‘”ê²Œ ì•„ë¬´ì“¸ëª¨ê°€ ì—†ì–´ì¡Œë‹¤! ë•Œë¬¸ì— ì´ëŒ€ë¡œ í­íŒŒì‹œí‚¤ê¸°ëŠ” ë„ˆë¬´ ì•„ì‰¬ì›Œ ê·¸ ê³¼ì •ì„ ê¸°ë¡í•´ ë‘ê³ ì í•œë‹¤.\n<br>\nê·¸ëŸ¼ ì‹œì‘í•´ë³´ì.</p>\n<div align=\"center\">\n    <img src=\"https://onedrive.live.com/embed?resid=9DED56BE8CF81C92%21211&amp;authkey=%21AInaQqp_g1hhKd0&amp;width=564&amp;height=311\" alt=\"ì‹œì‘í•´ë³´ì\">\n</div>\n<h2 id=\"prerequisites\" style=\"position:relative;\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisites</h2>\n<p>í•´ë‹¹ íŒ¨í‚¤ì§€ë“¤ì´ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ ìš°ì„  í™•ì¸í•˜ì</p>\n<ul>\n<li><a href=\"https://learn.microsoft.com/en-us/cli/azure/install-azure-cli\">az cli</a>ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€</li>\n<li>.kubectlë¥¼ ì„¤ì¹˜í–ˆëŠ”ì§€ <a href=\"https://learn.microsoft.com/en-us/azure/aks/learn/quick-kubernetes-deploy-cli#connect-to-the-cluster\">az aks install-cli.</a></li>\n<li><a href=\"https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli\">Terraform CLI</a>ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€.</li>\n</ul>\n<h2 id=\"terraformì„-ì´ìš©í•œ-aks-êµ¬ì„±\" style=\"position:relative;\"><a href=\"#terraform%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-aks-%EA%B5%AC%EC%84%B1\" aria-label=\"terraformì„ ì´ìš©í•œ aks êµ¬ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Terraformì„ ì´ìš©í•œ AKS êµ¬ì„±</h2>\n<p>ë³¸ì¸ì´ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ Portal ë§Œì§€ëŠ”ê²Œ ì–´ë µë‹¤?? ê·¸ëŸ¼ ê·¸ëƒ¥ ê³ ê°œë¥¼ ë“¤ì–´ Terraformì„ ë³´ë©´ ëœë‹¤. <font color=\"#c00000\">Terraformì€ ì¸í”„ë¼ë¥¼ ì½”ë“œë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” êµ‰ì¥íˆ í¸ë¦¬í•œ ë„êµ¬</font>ë¡œ apply ë”¸ê¹ í•œë²ˆì— ìˆ˜ë§ì€ ì„¤ì •ë“¤ì´ ì ìš©ë˜ì–´ ì¸í”„ë¼ êµ¬ì¶•ì´ ê°€ëŠ¥í•˜ë‹¤. ë¬¼ë¡  ëŸ¬ë‹ì»¤ë¸Œê°€ ìˆìœ¼ë‚˜ íŠœí† ë¦¬ì–¼ì´ ì‚¬ë¡€ ë³„ë¡œ â€œì•„ë‹ˆ ì´ ì •ë„ê¹Œì§€ ì¹œì ˆí•˜ë‹¤ê³ ?â€ìˆ˜ì¤€ìœ¼ë¡œ ì˜ ë‚˜ì™€ ìˆê¸°ì— ê·¸ëŒ€ë¡œ ë”°ë¼í•˜ë©´ëœë‹¤. GPTê°€ í•„ìš” ì—†ì„ ì •ë„ë¡œ ì¹œì ˆí•˜ë‹¤.\n<br>\n<a href=\"https://registry.terraform.io\">Terraform íŠœí† ë¦¬ì–¼</a><br>\n<a href=\"https://developer.hashicorp.com/terraform/docs\">Terraform ê³µì‹ docs</a></p>\n<p>ê·¸ëŸ¼ ì½”ë“œë¥¼ ë³´ë„ë¡ í•˜ì</p>\n<h3 id=\"providerstf\" style=\"position:relative;\"><a href=\"#providerstf\" aria-label=\"providerstf permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>providers.tf</h3>\n<p>providersëŠ” ê°€ì¥ ê¸°ì´ˆì ì¸ íŒŒì¼ë¡œ ê¸°ë³¸ì ì¸ íŒ¨í‚¤ì§€ë‚˜ ì„¤ì • ê·¸ë¦¬ê³  ë‚´ê°€ ì–´ë–¤ í”Œë«í¼ì˜ ì¸í”„ë¼ë¥¼ ì‚¬ìš©í•  ê²ƒì¸ì§€ ì‚¬ì „ ì •ì˜ë¥¼ í•´ë‘ëŠ” íŒŒì¼ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">provider <span class=\"token string\">\"azurerm\"</span> <span class=\"token punctuation\">{</span>\n  skip_provider_registration = <span class=\"token string\">\"true\"</span>\n  features <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nterraform <span class=\"token punctuation\">{</span>\n  required_version = <span class=\"token string\">\">=1.0\"</span>\n\n  required_providers <span class=\"token punctuation\">{</span>\n    azapi = <span class=\"token punctuation\">{</span>\n      source  = <span class=\"token string\">\"azure/azapi\"</span>\n      version = <span class=\"token string\">\"~>1.5\"</span>\n    <span class=\"token punctuation\">}</span>\n    azurerm = <span class=\"token punctuation\">{</span>\n      source  = <span class=\"token string\">\"hashicorp/azurerm\"</span>\n      version = <span class=\"token string\">\"~>3.0\"</span>\n    <span class=\"token punctuation\">}</span>\n    random = <span class=\"token punctuation\">{</span>\n      source  = <span class=\"token string\">\"hashicorp/random\"</span>\n      version = <span class=\"token string\">\"~>3.0\"</span>\n    <span class=\"token punctuation\">}</span>\n    time = <span class=\"token punctuation\">{</span>\n      source  = <span class=\"token string\">\"hashicorp/time\"</span>\n      version = <span class=\"token string\">\"0.9.1\"</span>\n    <span class=\"token punctuation\">}</span>\n    helm = <span class=\"token punctuation\">{</span>\n      source  = <span class=\"token string\">\"hashicorp/helm\"</span>\n      version = <span class=\"token string\">\"~>2.0\"</span>\n    <span class=\"token punctuation\">}</span>\n    kubernetes = <span class=\"token punctuation\">{</span>\n      source  = <span class=\"token string\">\"hashicorp/kubernetes\"</span>\n      version = <span class=\"token string\">\"~>2.0\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nprovider <span class=\"token string\">\"kubernetes\"</span> <span class=\"token punctuation\">{</span>\n  host                   = azurerm_kubernetes_cluster.aks_cluster.kube_config<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.host\n  client_certificate     = base64decode(azurerm_kubernetes_cluster.aks_cluster.kube_config<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.client_certificate)\n  client_key             = base64decode(azurerm_kubernetes_cluster.aks_cluster.kube_config<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.client_key)\n  cluster_ca_certificate = base64decode(azurerm_kubernetes_cluster.aks_cluster.kube_config<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.cluster_ca_certificate)\n<span class=\"token punctuation\">}</span>\n\nprovider <span class=\"token string\">\"helm\"</span> <span class=\"token punctuation\">{</span>\n  kubernetes <span class=\"token punctuation\">{</span>\n    host                   = azurerm_kubernetes_cluster.aks_cluster.kube_config<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.host\n    client_certificate     = base64decode(azurerm_kubernetes_cluster.aks_cluster.kube_config<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.client_certificate)\n    client_key             = base64decode(azurerm_kubernetes_cluster.aks_cluster.kube_config<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.client_key)\n    cluster_ca_certificate = base64decode(azurerm_kubernetes_cluster.aks_cluster.kube_config<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.cluster_ca_certificate)\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"variablestf\" style=\"position:relative;\"><a href=\"#variablestf\" aria-label=\"variablestf permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>variables.tf</h3>\n<p>main.tfì— ì •ì˜ë  ë³€ìˆ˜ë“¤ì„ ë¯¸ë¦¬ ì„ ì–¸í•´ë‘” íŒŒì¼ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">variable <span class=\"token string\">\"app_name\"</span> <span class=\"token punctuation\">{</span>\n  type        = string\n  description = <span class=\"token string\">\"name of the application\"</span>\n<span class=\"token punctuation\">}</span>\n\nvariable <span class=\"token string\">\"location\"</span> <span class=\"token punctuation\">{</span>\n  type        = string\n  description = <span class=\"token string\">\"location for the resources\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"maintfvals\" style=\"position:relative;\"><a href=\"#maintfvals\" aria-label=\"maintfvals permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>main.tfvals</h3>\n<p>variables.tfì— ì„ ì–¸ëœ ë³€ìˆ˜ë“¤ì˜ ì‹¤ì¬ê°’ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">app_name = <span class=\"token string\">\"airflow\"</span>\nlocation = <span class=\"token string\">\"koreacentral\"</span></code></pre></div>\n<h3 id=\"maintf\" style=\"position:relative;\"><a href=\"#maintf\" aria-label=\"maintf permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>main.tf</h3>\n<p>í•´ë‹¹ íŒŒì¼ì€ ë‚´ê°€ ìƒì„±í•˜ê³ ì í•˜ëŠ” í”Œë«í¼ê³¼ ì œí’ˆì— ë”°ë¼ì„œ ì „ë¶€ ë‹¤ë¥´ê¸°ì— ë”°ë¡œ ë¦¬ë·°ëŠ” í•˜ì§€ ì•Šê² ë‹¤. ìœ„ì—ìˆëŠ” terraform ê°€ì´ë“œë¥¼ ì‚´í´ë³´ê³  ìŠ¤ìŠ¤ë¡œ êµ¬ì¶•ì„ í•´ë³´ë©´ ëœë‹¤.\nê°„ë‹¨í•˜ê²Œë§Œ ì–¸ê¸‰í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<ul>\n<li>Airflow ë¡œê·¸ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ Blob ì»¨í…Œì´ë„ˆë¥¼ í”„ë¡œë¹„ì €ë‹ ì½”ë“œ</li>\n<li>ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ACR í”„ë¡œë¹„ì €ë‹ ì½”ë“œ</li>\n<li>ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ í”„ë¡œë¹„ì €ë‹ ì½”ë“œ</li>\n<li>ê¸°ë³¸ ë…¸ë“œ í’€ì´ ìˆëŠ” Kubernetes í´ëŸ¬ìŠ¤í„° ì •ì˜</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">resource <span class=\"token string\">\"azurerm_resource_group\"</span> <span class=\"token string\">\"rg\"</span> <span class=\"token punctuation\">{</span>\n  name     = <span class=\"token string\">\"${var.app_name}rg\"</span>\n  location = var.location\n<span class=\"token punctuation\">}</span>\n\n# Azure Kubernetes Cluster\n\nresource <span class=\"token string\">\"azurerm_kubernetes_cluster\"</span> <span class=\"token string\">\"main\"</span> <span class=\"token punctuation\">{</span>\n  name                = <span class=\"token string\">\"${var.app_name}aks\"</span>\n  location            = var.location\n  resource_group_name = azurerm_resource_group.rg.name\n  dns_prefix          = <span class=\"token string\">\"${var.app_name}-aks\"</span>\n\n  default_node_pool <span class=\"token punctuation\">{</span>\n    name       = <span class=\"token string\">\"default\"</span>\n    node_count = <span class=\"token number\">1</span>\n    vm_size    = <span class=\"token string\">\"Standard_DS2_v2\"</span>\n  <span class=\"token punctuation\">}</span>\n\n  identity <span class=\"token punctuation\">{</span>\n    type = <span class=\"token string\">\"SystemAssigned\"</span>\n  <span class=\"token punctuation\">}</span>\n\n  storage_profile <span class=\"token punctuation\">{</span>\n    blob_driver_enabled = <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n# Azure Container Registry\n\nresource <span class=\"token string\">\"azurerm_container_registry\"</span> <span class=\"token string\">\"acr\"</span> <span class=\"token punctuation\">{</span>\n  name                = <span class=\"token string\">\"${var.app_name}acregistry\"</span>\n  resource_group_name = azurerm_resource_group.rg.name\n  location            = var.location\n  sku                 = <span class=\"token string\">\"Standard\"</span>\n  admin_enabled       = <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span>\n\nresource <span class=\"token string\">\"azurerm_role_assignment\"</span> <span class=\"token string\">\"main\"</span> <span class=\"token punctuation\">{</span>\n  principal_id         = azurerm_kubernetes_cluster.main.kubelet_identity<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.object_id\n  role_definition_name = <span class=\"token string\">\"AcrPull\"</span>\n  scope                = azurerm_container_registry.acr.id\n<span class=\"token punctuation\">}</span>\n\n# Blob storage for Airflow logs\n\nresource <span class=\"token string\">\"azurerm_storage_account\"</span> <span class=\"token string\">\"airflow\"</span> <span class=\"token punctuation\">{</span>\n  name                     = <span class=\"token string\">\"${var.app_name}airflowlogs\"</span>\n  resource_group_name      = azurerm_resource_group.rg.name\n  location                 = var.location\n  account_tier             = <span class=\"token string\">\"Standard\"</span>\n  account_replication_type = <span class=\"token string\">\"LRS\"</span>\n<span class=\"token punctuation\">}</span>\n\nresource <span class=\"token string\">\"azurerm_storage_container\"</span> <span class=\"token string\">\"airflow_logs\"</span> <span class=\"token punctuation\">{</span>\n  name                  = <span class=\"token string\">\"airflow-logs\"</span>\n  storage_account_name  = azurerm_storage_account.airflow.name\n  container_access_type = <span class=\"token string\">\"private\"</span>\n<span class=\"token punctuation\">}</span>\n\nresource <span class=\"token string\">\"azurerm_storage_management_policy\"</span> <span class=\"token string\">\"prune_logs\"</span> <span class=\"token punctuation\">{</span>\n  storage_account_id = azurerm_storage_account.airflow.id\n\n  rule <span class=\"token punctuation\">{</span>\n    name    = <span class=\"token string\">\"prune-logs\"</span>\n    enabled = <span class=\"token boolean\">true</span>\n    filters <span class=\"token punctuation\">{</span>\n      prefix_match = <span class=\"token punctuation\">[</span><span class=\"token string\">\"airflow-logs\"</span><span class=\"token punctuation\">]</span>\n      blob_types   = <span class=\"token punctuation\">[</span><span class=\"token string\">\"blockBlob\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n    actions <span class=\"token punctuation\">{</span>\n      base_blob <span class=\"token punctuation\">{</span>\n        delete_after_days_since_modification_greater_than = <span class=\"token number\">7</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"azure-ì¸í”„ë¼-ë°°í¬ë¥¼-ìœ„í•œ-ì„œë¹„ìŠ¤-ì£¼ì²´-ìƒì„±\" style=\"position:relative;\"><a href=\"#azure-%EC%9D%B8%ED%94%84%EB%9D%BC-%EB%B0%B0%ED%8F%AC%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%A3%BC%EC%B2%B4-%EC%83%9D%EC%84%B1\" aria-label=\"azure ì¸í”„ë¼ ë°°í¬ë¥¼ ìœ„í•œ ì„œë¹„ìŠ¤ ì£¼ì²´ ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Azure ì¸í”„ë¼ ë°°í¬ë¥¼ ìœ„í•œ ì„œë¹„ìŠ¤ ì£¼ì²´ ìƒì„±</h2>\n<p>Azureì— ì¸í”„ë¼ë¥¼ ë°°í¬í•˜ë ¤ë©´ ë¨¼ì € ì¸í”„ë¼ë¥¼ ë°°í¬í•  ê¶Œí•œì´ ìˆëŠ” ì„œë¹„ìŠ¤ ì£¼ì²´ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ì•„ë˜ì²˜ëŸ¼ ì§„í–‰í•´ì£¼ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">az login\n\nexport SUBSCRIPTION_ID=$(az account show --query id -o tsv)\nexport SERVICE_PRINCIPAL_NAME=&quot;InfrastructureAccount&quot;\n\naz ad sp create-for-rbac \\\n    --name $SERVICE_PRINCIPAL_NAME \\\n    --role &quot;Owner&quot; \\\n    --scopes &quot;/subscriptions/$SUBSCRIPTION_ID&quot; &gt; credentials.json</code></pre></div>\n<blockquote>\n<p><font color=\"#c00000\">ì£¼ì˜!âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸</font> <br>\në‹¤ë§Œ credentials.jsonì˜ ë‚´ìš©ì€ ë¹„ë°€ë¡œ ìœ ì§€í•´ì•¼ í•œë‹¤. ê³µê°œì ìœ¼ë¡œ ë…¸ì¶œí•˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•˜ê¸°ì— í˜¹ì‹œë¼ë„ githubì— ê²Œì‹œí•  ë•ŒëŠ” <code class=\"language-text\">.gitignore</code>ì„ ì‚¬ìš© í•˜ë„ë¡ í•˜ì.</p>\n</blockquote>\n<p>ë˜í•œ Terraformì´ ì„œë¹„ìŠ¤ ì£¼ì²´ë¡œ ì¸ì¦í•˜ë ¤ë©´ ì¼ë¶€ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì•¼ í•˜ëŠ”ë° ì•„ë˜ ì½”ë“œë¥¼ í†µí•´ ì§„í–‰ ê°€ëŠ¥í•˜ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">export ARM_CLIENT_ID=`cat credentials.json | python -c &#39;import json,sys;obj=json.load(sys.stdin);print(obj[&quot;appId&quot;])&#39;`\nexport ARM_CLIENT_SECRET=`cat credentials.json | python -c &#39;import json,sys;obj=json.load(sys.stdin);print(obj[&quot;password&quot;])&#39;`\nexport ARM_TENANT_ID=`cat credentials.json | python -c &#39;import json,sys;obj=json.load(sys.stdin);print(obj[&quot;tenant&quot;])&#39;`\nexport ARM_SUBSCRIPTION_ID=`az account show --query id -o tsv`</code></pre></div>\n<h2 id=\"aks-í´ëŸ¬ìŠ¤í„°-ë°°í¬\" style=\"position:relative;\"><a href=\"#aks-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EB%B0%B0%ED%8F%AC\" aria-label=\"aks í´ëŸ¬ìŠ¤í„° ë°°í¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AKS í´ëŸ¬ìŠ¤í„° ë°°í¬</h2>\n<p>ì´ì œ ë°°í¬ë¥¼ í•´ë³´ì</p>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">terraform init\nterraform fmt\nterraform validate\nterraform plan\nterraform apply</code></pre></div>\n<p>ê·¸ëŸ¼ ìƒê°ë³´ë‹¤ ì˜¤ë˜ê±¸ë¦¬ëŠ”ë° ê·¸ë™ì•ˆ ìœ íŠœë¸Œ í•œí¸ ë³´ê³ ì™€ë„ ì¢‹ë‹¤.</p>\n<div align=\"center\">\n    <img src=\"https://1drv.ms/i/c/9ded56be8cf81c92/IQMBrL5LviN7QqpIXek04U-uAZtjNP0bDt0Mqceq2lxFbbY?width=1024\" alt=\"ìƒì„±ì¤‘\">\n</div>\nê·¸ëŸ¼ ì´ë ‡ê²Œ ìƒì„±ë˜ì—ˆë‹¤ê³  ì´ˆë¡ìƒ‰ìœ¼ë¡œ ê¸€ì”¨ê°€ ë‚˜ì˜¬ ê²ƒì´ë‹¤.\n<div align=\"center\">\n    <img src=\"https://1drv.ms/i/c/9ded56be8cf81c92/IQOwZsSusgahRbOkT2cYObDhATPZGsIU8T2y7KTQlE_vxB0?width=1024\" alt=\"ìƒì„±ì™„ë£Œ\">\n</div>\n<p>ì´ì œ ëª¨ë“  í¬íŠ¸ë¥¼ ë‚˜ì—´í•´ë³´ì</p>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">NAMESPACE     NAME                                  READY   STATUS    RESTARTS   AGE\nkube-system   azure-ip-masq-agent-58pln             1/1     Running   0          20h\nkube-system   cloud-node-manager-glrh9              1/1     Running   0          20h\nkube-system   coredns-76b9877f49-8h6cz              1/1     Running   0          20h\nkube-system   coredns-76b9877f49-pjjdb              1/1     Running   0          20h\nkube-system   coredns-autoscaler-85f7d6b75d-wdbwd   1/1     Running   0          20h\nkube-system   csi-azuredisk-node-mmpxj              3/3     Running   0          20h\nkube-system   csi-azurefile-node-sbw7j              3/3     Running   0          20h\nkube-system   csi-blob-node-jhtnr                   3/3     Running   0          17h\nkube-system   konnectivity-agent-659478b8b7-gpkwv   1/1     Running   0          20h\nkube-system   konnectivity-agent-659478b8b7-zqksv   1/1     Running   0          20h\nkube-system   kube-proxy-c48c8                      1/1     Running   0          20h\nkube-system   metrics-server-c456c67cb-dqv8f        2/2     Running   0          20h\nkube-system   metrics-server-c456c67cb-r9f82        2/2     Running   0          20h</code></pre></div>\n<h2 id=\"helmì„-ì‚¬ìš©í•˜ì—¬-airflow-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#helm%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-airflow-%EC%84%A4%EC%B9%98\" aria-label=\"helmì„ ì‚¬ìš©í•˜ì—¬ airflow ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Helmì„ ì‚¬ìš©í•˜ì—¬ Airflow ì„¤ì¹˜</h2>\n<p>ì´ì œ <a href=\"https://github.com/apache/airflow/tree/main/chart\">Airflow Helm ì°¨íŠ¸</a>ë¥¼ ì´ìš©í•´ì„œ Airflowë¥¼ ì„¤ì¹˜í•´ë³´ì</p>\n<p>ë¨¼ì € ì•„ë˜ì™€ ê°™ì€ <code class=\"language-text\">valuse.yaml</code> íŒŒì¼ì„ ë§Œë“¤ì–´ì¤€ë‹¤.</p>\n<h3 id=\"valuesyaml\" style=\"position:relative;\"><a href=\"#valuesyaml\" aria-label=\"valuesyaml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>values.yaml</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">\n<span class=\"token comment\"># Select certain nodes for airflow pods.</span>\n<span class=\"token key atrule\">nodeSelector</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">agentpool</span><span class=\"token punctuation\">:</span> default\n\n<span class=\"token comment\"># Airflow executor</span>\n<span class=\"token key atrule\">executor</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'KubernetesExecutor'</span>\n\n<span class=\"token comment\"># Environment variables for all airflow containers</span>\n<span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ENVIRONMENT\n    <span class=\"token key atrule\">value</span><span class=\"token punctuation\">:</span> dev\n\n<span class=\"token key atrule\">extraEnv</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n  - name: AIRFLOW__CORE__DEFAULT_TIMEZONE\n    value: 'Asia/Seoul'</span>\n\n<span class=\"token comment\"># Configuration for postgresql subchart</span>\n<span class=\"token comment\"># Not recommended for production! Instead, spin up your own Postgresql server and use the `data`</span>\n<span class=\"token comment\"># attribute in this yaml file.</span>\n<span class=\"token key atrule\">postgresql</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n\n<span class=\"token comment\"># Enable pgbouncer.</span>\n<span class=\"token comment\"># See https://airflow.apache.org/docs/helm-chart/stable/production-guide.html#pgbouncer</span>\n<span class=\"token key atrule\">pgbouncer</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> true<span class=\"token punctuation\">></span></code></pre></div>\n<h2 id=\"dagë¥¼-ë™ê¸°í™”í•˜ê¸°-ìœ„í•œ-gitsync\" style=\"position:relative;\"><a href=\"#dag%EB%A5%BC-%EB%8F%99%EA%B8%B0%ED%99%94%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%9C-gitsync\" aria-label=\"dagë¥¼ ë™ê¸°í™”í•˜ê¸° ìœ„í•œ gitsync permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DAGë¥¼ ë™ê¸°í™”í•˜ê¸° ìœ„í•œ GitSync</h2>\n<p>ì´ì œ DAGì™€ Github Repoë¥¼ ë™ê¸°í™” í•´ì£¼ì–´ì•¼ í•œë‹¤. ê·¸ ê³¼ì •ì—ì„œ SSH ì¸ì¦í‚¤ë¥¼ ë§Œë“¤ê³  GIt hub ì €ì¥ì†Œì— ë°°í¬í‚¤ë¡œ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>\n<h3 id=\"ssh-key-ìƒì„±\" style=\"position:relative;\"><a href=\"#ssh-key-%EC%83%9D%EC%84%B1\" aria-label=\"ssh key ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ssh-key ìƒì„±</h3>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">ssh-keygen -t rsa -b 4096 -C &quot;your@email.com&quot;\n\ncat ~/.ssh/airflowsshkey.pub</code></pre></div>\n<h3 id=\"namespace-ìƒì„±-í›„-valuesyaml-ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#namespace-%EC%83%9D%EC%84%B1-%ED%9B%84-valuesyaml-%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"namespace ìƒì„± í›„ valuesyaml ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>namespace ìƒì„± í›„ values.yaml ë§ˆë¬´ë¦¬</h3>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">kubectl create namespace airflow\n\nkubectl create secret generic -n airflow airflow-git-ssh-secret \\\n\t--from-file=gitSshKey=$HOME/.ssh/airflowsshkey</code></pre></div>\n<p>ê·¸ë¦¬ê³  ì•„ë˜ ë‚´ìš©ì„ values.yaml íŒŒì¼ì— ì¶”ê°€í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">gitSync</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> &lt;ë³¸ì¸ Repo ssh<span class=\"token punctuation\">></span>\n    <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> main\n    <span class=\"token key atrule\">rev</span><span class=\"token punctuation\">:</span> HEAD\n    <span class=\"token key atrule\">depth</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token key atrule\">maxFailures</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token key atrule\">subPath</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'dags'</span>\n    <span class=\"token key atrule\">sshKeySecret</span><span class=\"token punctuation\">:</span> airflow<span class=\"token punctuation\">-</span>git<span class=\"token punctuation\">-</span>ssh<span class=\"token punctuation\">-</span>secret\n    <span class=\"token key atrule\">knownHosts</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n      github.com ssh-rsa &lt;secret key></span></code></pre></div>\n<p>ìœ„ ë‚´ìš©ì€ main ë¸Œë Œì¹˜ì˜ dags í´ë”ë¥¼ ë™ê¸°í™”í•˜ê² ë‹¤ëŠ” ë‹¨ìˆœí•œ ëœ»ì´ë‹¤. <br>\në‹¤ë§Œ, ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì´ ssh-rsa ë‹¤ìŒì— ì˜¤ëŠ” keyëŠ” ë°©ê¸ˆ ìƒì„±í•œ í‚¤ê°€ ì•„ë‹ˆë¼ GitHub ì„œë²„ì˜ í˜¸ìŠ¤íŠ¸ í‚¤ë¥¼ ë§í•˜ëŠ” ê²ƒì´ë‹¤. ì•„ë˜ ê³µì‹ë¬¸ì„œë¥¼ ì˜ ì‚´í´ë³´ì</p>\n<ul>\n<li><a href=\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints\">GitHubì˜ SSH í‚¤ Fingerprints ê³µì‹ ë¬¸ì„œ</a></li>\n</ul>\n<h2 id=\"blobì„-ì‚¬ìš©í•œ-ë¡œê·¸-ì €ì¥\" style=\"position:relative;\"><a href=\"#blob%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%9C-%EB%A1%9C%EA%B7%B8-%EC%A0%80%EC%9E%A5\" aria-label=\"blobì„ ì‚¬ìš©í•œ ë¡œê·¸ ì €ì¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>blobì„ ì‚¬ìš©í•œ ë¡œê·¸ ì €ì¥</h2>\n<p>ë‹¤ìŒì€ ë¡œê·¸ ì €ì¥ì†Œë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤. ë³´í†µ pv ë° pvcë¥¼ ì‚¬ìš©í•´ì„œ ì €ì¥í•œë‹¤. ë‚˜ëŠ” airflowë¼ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ì–´ì„œ ì €ì¥í–ˆë‹¤.</p>\n<h3 id=\"pv-logsyaml\" style=\"position:relative;\"><a href=\"#pv-logsyaml\" aria-label=\"pv logsyaml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pv-logs.yaml</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> PersistentVolume\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pv<span class=\"token punctuation\">-</span>airflow<span class=\"token punctuation\">-</span>logs\n  <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> local\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">capacity</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">storage</span><span class=\"token punctuation\">:</span> 5Gi\n  <span class=\"token key atrule\">accessModes</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> ReadWriteMany\n  <span class=\"token key atrule\">persistentVolumeReclaimPolicy</span><span class=\"token punctuation\">:</span> Retain <span class=\"token comment\"># If set as \"Delete\" container would be removed after pvc deletion</span>\n  <span class=\"token key atrule\">storageClassName</span><span class=\"token punctuation\">:</span> azureblob<span class=\"token punctuation\">-</span>fuse<span class=\"token punctuation\">-</span>premium\n  <span class=\"token key atrule\">mountOptions</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span>o allow_other\n    <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>file<span class=\"token punctuation\">-</span>cache<span class=\"token punctuation\">-</span>timeout<span class=\"token punctuation\">-</span>in<span class=\"token punctuation\">-</span>seconds=120\n  <span class=\"token key atrule\">csi</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">driver</span><span class=\"token punctuation\">:</span> blob.csi.azure.com\n    <span class=\"token key atrule\">readOnly</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n    <span class=\"token key atrule\">volumeHandle</span><span class=\"token punctuation\">:</span> airflow<span class=\"token punctuation\">-</span>logs<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n    <span class=\"token key atrule\">volumeAttributes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">resourceGroup</span><span class=\"token punctuation\">:</span> airflowrg\n      <span class=\"token key atrule\">storageAccount</span><span class=\"token punctuation\">:</span> airflowairflowsa\n      <span class=\"token key atrule\">containerName</span><span class=\"token punctuation\">:</span> airflow<span class=\"token punctuation\">-</span>logs\n    <span class=\"token key atrule\">nodeStageSecretRef</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> storage<span class=\"token punctuation\">-</span>account<span class=\"token punctuation\">-</span>credentials\n      <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> airflow</code></pre></div>\n<h3 id=\"pvc-logsyaml\" style=\"position:relative;\"><a href=\"#pvc-logsyaml\" aria-label=\"pvc logsyaml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pvc-logs.yaml</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> PersistentVolumeClaim\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pvc<span class=\"token punctuation\">-</span>airflow<span class=\"token punctuation\">-</span>logs\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">storageClassName</span><span class=\"token punctuation\">:</span> azureblob<span class=\"token punctuation\">-</span>fuse<span class=\"token punctuation\">-</span>premium\n  <span class=\"token key atrule\">accessModes</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> ReadWriteMany\n  <span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">requests</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">storage</span><span class=\"token punctuation\">:</span> 5Gi\n  <span class=\"token key atrule\">volumeName</span><span class=\"token punctuation\">:</span> pv<span class=\"token punctuation\">-</span>airflow<span class=\"token punctuation\">-</span>logs</code></pre></div>\n<p>PersistentVolumeê³¼ PersistentVolumeClaimì„ í”„ë¡œë¹„ì €ë‹ í•˜ëŠ” ì½”ë“œë¥¼ ì§°ìœ¼ë¯€ë¡œ ë‹¹ì—°íˆ í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•´ì„œë„ secretì„ ì •ì˜í•´ì£¼ì–´ì•¼ í•œë‹¤. ì•„ë˜ ì½”ë“œë¡œ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">STORAGE_ACCOUNT_KEY</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>az storage account keys list <span class=\"token punctuation\">\\</span>\n        <span class=\"token parameter variable\">-g</span> airflowrg <span class=\"token punctuation\">\\</span>\n        <span class=\"token parameter variable\">-n</span> airflowairflowlogs <span class=\"token punctuation\">\\</span>\n        <span class=\"token parameter variable\">--query</span> <span class=\"token string\">'[0]'</span>.value <span class=\"token punctuation\">\\</span>\n        <span class=\"token parameter variable\">-o</span> tsv<span class=\"token variable\">)</span></span>\n\nkubectl create secret generic <span class=\"token parameter variable\">-n</span> airflow storage-account-credentials <span class=\"token punctuation\">\\</span>\n\t--from-literal <span class=\"token assign-left variable\">azurestorageaccountname</span><span class=\"token operator\">=</span>airflowairflowsa <span class=\"token punctuation\">\\</span>\n\t--from-literal <span class=\"token assign-left variable\">azurestorageaccountkey</span><span class=\"token operator\">=</span><span class=\"token variable\">$STORAGE_ACCOUNT_KEY</span> <span class=\"token punctuation\">\\</span>\n\t<span class=\"token parameter variable\">--type</span><span class=\"token operator\">=</span>Opaque</code></pre></div>\n<p>ê·¸ë¦¬ê³  ì ìš©í•´ì£¼ì</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl apply <span class=\"token parameter variable\">-n</span> airflow <span class=\"token parameter variable\">-f</span> airflow/pv-logs.yaml\nkubectl apply <span class=\"token parameter variable\">-n</span> airflow <span class=\"token parameter variable\">-f</span> airflow/pvc-logs.yaml</code></pre></div>\n<h2 id=\"valuesyaml-íŒŒì¼-ë§ˆë¬´ë¦¬\" style=\"position:relative;\"><a href=\"#valuesyaml-%ED%8C%8C%EC%9D%BC-%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"valuesyaml íŒŒì¼ ë§ˆë¬´ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>values.yaml íŒŒì¼ ë§ˆë¬´ë¦¬</h2>\n<p>ì´ì œ ì„¤ì • íŒŒì¼ì¸ values.yamlíŒŒì¼ì„ ë§ˆë¬´ë¦¬ í•´ì¤„ê±°ë‹¤ ì—¬ê¸°ì„œ logGroomerSidecar ë¶€ë¶„ì€ ì „ë¶€ ë¹„í™œì„±í™” ì²˜ë¦¬ í–ˆë‹¤ Terraform ì½”ë“œì—ì„œ blob ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ë¡œê·¸ ì •ë¦¬ ì •ì±…ì„ ì´ë¯¸ ì •ì˜í–ˆê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">logs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">persistence</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">existingClaim</span><span class=\"token punctuation\">:</span> pvc<span class=\"token punctuation\">-</span>airflow<span class=\"token punctuation\">-</span>logs\n    <span class=\"token key atrule\">storageClassName</span><span class=\"token punctuation\">:</span> azureblob<span class=\"token punctuation\">-</span>fuse<span class=\"token punctuation\">-</span>premium\n\n<span class=\"token comment\"># We disable the log groomer sidecar because we use Azure Blob Storage for logs,</span>\n<span class=\"token comment\"># where a lifecycle policy is already set</span>\n<span class=\"token key atrule\">triggerer</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">logGroomerSidecar</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n\n<span class=\"token key atrule\">scheduler</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">logGroomerSidecar</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n\n<span class=\"token key atrule\">workers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">logGroomerSidecar</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></code></pre></div>\n<h2 id=\"airflow-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#airflow-%EC%84%A4%EC%B9%98\" aria-label=\"airflow ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>airflow ì„¤ì¹˜</h2>\n<p>ì´ì œ ì„¤ì¹˜ í•˜ì!</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">helm repo <span class=\"token function\">add</span> apache-airflow https://airflow.apache.org\n\nhelm <span class=\"token function\">install</span> airflow apache-airflow/airflow <span class=\"token parameter variable\">-n</span> airflow <span class=\"token parameter variable\">-f</span> airflow/values.yaml <span class=\"token parameter variable\">--debug</span>\n\nkubectl port-forward svc/airflow-webserver <span class=\"token number\">8080</span>:8080 <span class=\"token parameter variable\">-n</span> airflow</code></pre></div>\n<h2 id=\"test-buildë¥¼-ìœ„í•´-acrì—-ì´ë¯¸ì§€-ë“±ë¡í•˜ê¸°\" style=\"position:relative;\"><a href=\"#test-build%EB%A5%BC-%EC%9C%84%ED%95%B4-acr%EC%97%90-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0\" aria-label=\"test buildë¥¼ ìœ„í•´ acrì— ì´ë¯¸ì§€ ë“±ë¡í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>test buildë¥¼ ìœ„í•´ ACRì— ì´ë¯¸ì§€ ë“±ë¡í•˜ê¸°</h2>\n<p>ìš°ì„  Hello World!ê°€ ì¶œë ¥ë˜ëŠ” ë§¤ìš° ê°„ë‹¨í•œ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ì–´ ACRì— ì—…ë¡œë“œ í•´ë³´ì</p>\n<h3 id=\"dockerfile\" style=\"position:relative;\"><a href=\"#dockerfile\" aria-label=\"dockerfile permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DockerFile</h3>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> alpine:latest</span>\n\n<span class=\"token comment\"># The command to run when the container starts</span>\n<span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"echo\"</span>, <span class=\"token string\">\"hello world\"</span>]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">docker build -t example .\ndocker run example</code></pre></div>\n<h3 id=\"docker-buildsh\" style=\"position:relative;\"><a href=\"#docker-buildsh\" aria-label=\"docker buildsh permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>docker-build.sh</h3>\n<p>ê·¸ ë‹¤ìŒ acrì— ë¡œê·¸ì¸ì„ í•´ì¤€ í›„ ACR Portalì— ìˆëŠ” acr_idì™€ master keyë¥¼ ê°€ì ¸ì™€ì¤€ë‹¤. Portalì— ê°€ë©´ ì‰½ê²Œ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤.!</p>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">az acr login --name airflowacregistry</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token assign-left variable\">acr_id</span><span class=\"token operator\">=</span><span class=\"token string\">\"airflowacregistry.azurecr.io\"</span>\n<span class=\"token assign-left variable\">image_name</span><span class=\"token operator\">=</span><span class=\"token string\">\"aksdag\"</span> <span class=\"token comment\"># could be any image name</span>\n<span class=\"token function\">docker</span> login <span class=\"token string\">\"<span class=\"token variable\">$acr_id</span>\"</span> <span class=\"token parameter variable\">-u</span> <span class=\"token string\">'&lt;ACRë¦¬ì†ŒìŠ¤ name>'</span> <span class=\"token parameter variable\">-p</span> <span class=\"token string\">\"&lt;ACR master key>\"</span>\n<span class=\"token function\">docker</span> build <span class=\"token parameter variable\">--tag</span> <span class=\"token string\">\"<span class=\"token variable\">$acr_id</span>/<span class=\"token variable\">$image_name</span>:latest\"</span> <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">docker</span> push <span class=\"token string\">\"<span class=\"token variable\">$acr_id</span>/<span class=\"token variable\">$image_name</span>:latest\"</span></code></pre></div>\n<p>ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì´ë¯¸ì§€ê°€ ì˜ ACRì— ë“±ë¡ë˜ì—ˆëŠ”ì§€ í™•ì¸ë„ ê°€ëŠ¥í•˜ë‹¤</p>\n<div class=\"gatsby-highlight\" data-language=\"zsh\"><pre class=\"language-zsh\"><code class=\"language-zsh\">az acr repository list --name airflowacregistry --output table</code></pre></div>\n<h2 id=\"airflowì—ì„œ-ì²«-ë²ˆì§¸-dag-ì‹¤í–‰\" style=\"position:relative;\"><a href=\"#airflow%EC%97%90%EC%84%9C-%EC%B2%AB-%EB%B2%88%EC%A7%B8-dag-%EC%8B%A4%ED%96%89\" aria-label=\"airflowì—ì„œ ì²« ë²ˆì§¸ dag ì‹¤í–‰ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Airflowì—ì„œ ì²« ë²ˆì§¸ DAG ì‹¤í–‰</h2>\n<p>ì¼ë‹¨ ì•„ê¹Œì „ì— gitSyncì—ì„œ ì ì—ˆë˜ gitë§í¬ë¥¼ ê¸°ì–µí•˜ëŠ”ê°€?? ê·¸ ë ˆí¬ì˜ ë‹¤ìŒ ê²½ë¡œì— ë“¤ì–´ê°€ì„œ airflowsshkey.pub ì•ˆì— ìˆëŠ” í‚¤ë¥¼ deploy keyì— ë“±ë¡í•´ì¤€ë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">Setting</code> -> <code class=\"language-text\">DeployKey</code></li>\n</ul>\n<h3 id=\"dags-í´ë”ì—-dag-ì €ì¥\" style=\"position:relative;\"><a href=\"#dags-%ED%8F%B4%EB%8D%94%EC%97%90-dag-%EC%A0%80%EC%9E%A5\" aria-label=\"dags í´ë”ì— dag ì €ì¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dags í´ë”ì— DAG ì €ì¥</h3>\n<p>ACRì— ì €ì¥ í–ˆë˜ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ëŠ” ì½”ë“œì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"><span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> datetime\n<span class=\"token keyword\">from</span> airflow <span class=\"token keyword\">import</span> DAG\n<span class=\"token keyword\">from</span> airflow<span class=\"token punctuation\">.</span>contrib<span class=\"token punctuation\">.</span>operators<span class=\"token punctuation\">.</span>kubernetes_pod_operator <span class=\"token keyword\">import</span> KubernetesPodOperator\n\ndefault_args <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"retries\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"start_date\"</span><span class=\"token punctuation\">:</span> datetime<span class=\"token punctuation\">(</span><span class=\"token number\">2022</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"image_pull_policy\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Always\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">with</span> DAG<span class=\"token punctuation\">(</span>\n    dag_id<span class=\"token operator\">=</span><span class=\"token string\">\"simple_kubernetes_dag\"</span><span class=\"token punctuation\">,</span>\n    schedule_interval<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span>\n    default_args<span class=\"token operator\">=</span>default_args<span class=\"token punctuation\">,</span>\n    catchup<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>\n    tags<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"example\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    max_active_runs<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> dag<span class=\"token punctuation\">:</span>\n    simple_task <span class=\"token operator\">=</span> KubernetesPodOperator<span class=\"token punctuation\">(</span>\n        task_id<span class=\"token operator\">=</span><span class=\"token string\">\"simple_echo_task\"</span><span class=\"token punctuation\">,</span>\n        image<span class=\"token operator\">=</span><span class=\"token string\">\"airflowacregistry.azurecr.io/example:latest\"</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">=</span><span class=\"token string\">\"simple-airflow-task\"</span>\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì§ ! ê·¸ëŸ¼ ì´ì œ ì•„ë˜ ì²˜ëŸ¼ ë‚´ê°€ ë§Œë“  DAGê°€ ë¬´ì‚¬íˆ airflow ë‚´ì— ì•ˆì°©ëœê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.ã…ã…</p>\n<div align=\"center\">\n    <img src=\"https://1drv.ms/i/c/9ded56be8cf81c92/IQMLIOQC3j8iRZogFySybvL_Ae6JgpuQQ6AF8Oali7Wm9L0?width=1024\" alt=\"airflow\">\n</div>\n<p>DAGë¥¼ ìˆ˜ë™ìœ¼ë¡œ íŠ¸ë¦¬ê±° í•˜ê³  ë‹¤ìŒ ë©”ì„¸ì§€ ê¹Œì§€ ë–´ë‹¤ë©´ ì™„ë£Œë‹¤:)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">[</span><span class=\"token number\">2024</span>-08-05, 08:36:51 UTC<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>pod_manager.py:235<span class=\"token punctuation\">}</span> INFO - hello world</code></pre></div>\n<h2 id=\"ë§ˆë¬´ë¦¬-í•˜ë©°\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC-%ED%95%98%EB%A9%B0\" aria-label=\"ë§ˆë¬´ë¦¬ í•˜ë©° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë§ˆë¬´ë¦¬ í•˜ë©°..</h2>\n<p>ì™„ì„±í–ˆë‹¤!! ì‚¬ì‹¤ ë” ê³ ë„í™” í•˜ê³  ì‹¶ì—ˆëŠ”ë° ì¼ë‹¨ í˜„ì¬ Azure Function ë§Œë“œëŠ”ë°ë„ ì—¬ëŸ¬ê°€ì§€ ì´ìŠˆê°€ ìˆê¸°ì— ë‚˜ì¤‘ì— ê¸°íšŒê°€ ë˜ë©´ argo CD ë“±ìœ¼ë¡œ CI/CD í•˜ëŠ” ê²ƒë„ í•´ë³´ë ¤êµ¬ í•œë‹¤. ì ì  ë°ì—”ì—ì„œ Devops ìª½ì„ ê±´ë“œë¦¬ëŠ” ê¸°ë¶„ì´ì§€ë§Œ ì•„ë¬´ë ´ ì¬ë°ŒëŠ”ë° ë­ ì–´ì©Œê² ëŠ”ê°€</p>\n<p>ìœ„ ì½”ë“œì— ëŒ€í•œ ì •ë³´ëŠ” ì•„ë˜ ë‚˜ì˜ ê¹ƒí—ˆë¸Œì— ìˆë‹¤:) <br>\n<a href=\"https://github.com/StatisticsFox/terraform-aks-cluster-setup\">terraform-aks-cluster-setup</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\">ë“¤ì–´ê°€ê¸°ì— ì•ì„œ</a></p>\n</li>\n<li>\n<p><a href=\"#prerequisites\">Prerequisites</a></p>\n</li>\n<li>\n<p><a href=\"#terraform%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-aks-%EA%B5%AC%EC%84%B1\">Terraformì„ ì´ìš©í•œ AKS êµ¬ì„±</a></p>\n<ul>\n<li><a href=\"#providerstf\">providers.tf</a></li>\n<li><a href=\"#variablestf\">variables.tf</a></li>\n<li><a href=\"#maintfvals\">main.tfvals</a></li>\n<li><a href=\"#maintf\">main.tf</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#azure-%EC%9D%B8%ED%94%84%EB%9D%BC-%EB%B0%B0%ED%8F%AC%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%A3%BC%EC%B2%B4-%EC%83%9D%EC%84%B1\">Azure ì¸í”„ë¼ ë°°í¬ë¥¼ ìœ„í•œ ì„œë¹„ìŠ¤ ì£¼ì²´ ìƒì„±</a></p>\n</li>\n<li>\n<p><a href=\"#aks-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EB%B0%B0%ED%8F%AC\">AKS í´ëŸ¬ìŠ¤í„° ë°°í¬</a></p>\n</li>\n<li>\n<p><a href=\"#helm%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-airflow-%EC%84%A4%EC%B9%98\">Helmì„ ì‚¬ìš©í•˜ì—¬ Airflow ì„¤ì¹˜</a></p>\n<ul>\n<li><a href=\"#valuesyaml\">values.yaml</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#dag%EB%A5%BC-%EB%8F%99%EA%B8%B0%ED%99%94%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%9C-gitsync\">DAGë¥¼ ë™ê¸°í™”í•˜ê¸° ìœ„í•œ GitSync</a></p>\n<ul>\n<li><a href=\"#ssh-key-%EC%83%9D%EC%84%B1\">ssh-key ìƒì„±</a></li>\n<li><a href=\"#namespace-%EC%83%9D%EC%84%B1-%ED%9B%84-valuesyaml-%EB%A7%88%EB%AC%B4%EB%A6%AC\">namespace ìƒì„± í›„ values.yaml ë§ˆë¬´ë¦¬</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#blob%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%9C-%EB%A1%9C%EA%B7%B8-%EC%A0%80%EC%9E%A5\">blobì„ ì‚¬ìš©í•œ ë¡œê·¸ ì €ì¥</a></p>\n<ul>\n<li><a href=\"#pv-logsyaml\">pv-logs.yaml</a></li>\n<li><a href=\"#pvc-logsyaml\">pvc-logs.yaml</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#valuesyaml-%ED%8C%8C%EC%9D%BC-%EB%A7%88%EB%AC%B4%EB%A6%AC\">values.yaml íŒŒì¼ ë§ˆë¬´ë¦¬</a></p>\n</li>\n<li>\n<p><a href=\"#airflow-%EC%84%A4%EC%B9%98\">airflow ì„¤ì¹˜</a></p>\n</li>\n<li>\n<p><a href=\"#test-build%EB%A5%BC-%EC%9C%84%ED%95%B4-acr%EC%97%90-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0\">test buildë¥¼ ìœ„í•´ ACRì— ì´ë¯¸ì§€ ë“±ë¡í•˜ê¸°</a></p>\n<ul>\n<li><a href=\"#dockerfile\">DockerFile</a></li>\n<li><a href=\"#docker-buildsh\">docker-build.sh</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#airflow%EC%97%90%EC%84%9C-%EC%B2%AB-%EB%B2%88%EC%A7%B8-dag-%EC%8B%A4%ED%96%89\">Airflowì—ì„œ ì²« ë²ˆì§¸ DAG ì‹¤í–‰</a></p>\n<ul>\n<li><a href=\"#dags-%ED%8F%B4%EB%8D%94%EC%97%90-dag-%EC%A0%80%EC%9E%A5\">dags í´ë”ì— DAG ì €ì¥</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC-%ED%95%98%EB%A9%B0\">ë§ˆë¬´ë¦¬ í•˜ë©°..</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"August 11, 2024","title":"Terraformìœ¼ë¡œ AKSì— airflow ë„ìš°ê³  gitìœ¼ë¡œ DAG ê´€ë¦¬í•˜ê¸°","categories":"Data_Engineering","author":"ìµœì§€í˜","emoji":"ğŸ¤"},"fields":{"slug":"/Data Engineering/Terraformìœ¼ë¡œ AKSì— airflow ë„ìš°ê³  gitìœ¼ë¡œ DAG ê´€ë¦¬í•˜ê¸°/"}},"prev":{"id":"d65508b6-6427-511e-9cb6-6ddb7e63e3ab","html":"<h2 id=\"ë“¤ì–´ê°€ê¸°ì—-ì•ì„œ\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\" aria-label=\"ë“¤ì–´ê°€ê¸°ì— ì•ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸°ì— ì•ì„œ</h2>\n<p>ìµœê·¼ì— BOAZ ë™ì•„ë¦¬ì—ì„œ Oauto2ì™€ goole calenderë¥¼ ì´ìš©í•´ì„œ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“œëŠ” í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ”ë°(<del>ê³„íšì— ì „í˜€ì—†ë˜ ë¦¬ì•¡íŠ¸ê¹Œì§€ ì¨ë³´ëŠ”ì¤‘ğŸ¥²</del>) ì „ë°˜ì ì¸ ì¸í”„ë¼ êµ¬ì„±ì„ ë‚´ê°€ ë§¡ì•˜ë‹¤. ì´ë•Œ, ë„ë©”ì¸ì„ AWS EC2ì— ë“±ë¡í•˜ëŠ” ê³¼ì •ì—ì„œ ë¡œë“œë°¸ëŸ°ì„œë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤. ALB ë¡œë“œ ë°¸ëŸ°ì„œì— SSL ì¸ì¦ì„ ì ìš©í•˜ë©´ ê° Ec2 ì¸ìŠ¤í„´ìŠ¤ ë§ˆë‹¤ SSLì„ ì²˜ë¦¬í•˜ì§€ ì•Šì•„ë„ HTTPS íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆê¸°ì— ë°˜ë“œì‹œ í•„ìš”í•œ ë¶€ë¶„ì´ì—ˆë‹¤. ê·¸ ê³¼ì •ì—ì„œ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ë‹¨ìˆœíˆ â€œê·¸ëƒ¥ ë¶€í•˜ë¶„ì‚° ì•„ë‹˜?â€ìœ¼ë¡œ ì•Œê³  ìˆë˜ ë‚˜ì—ê²Œ ê°œë…ì •ë¦¬ê°€ ê¼­ í•„ìš”í•œ ë¶€ë¶„ì´ë¼ ì´ë²ˆ ê¸€ì„ ì‘ì„±í•˜ê²Œ ë˜ì—ˆë‹¤. ê·¸ëŸ¼ ì‹œì‘í•´ë³´ì\n<img src=\"https://onedrive.live.com/embed?resid=9DED56BE8CF81C92%21211&#x26;authkey=%21AInaQqp_g1hhKd0&#x26;width=564&#x26;height=311\" alt=\"ì‹œì‘í•´ë³´ì\"></p>\n<h2 id=\"core\" style=\"position:relative;\"><a href=\"#core\" aria-label=\"core permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Core</h2>\n<p>ê¸°ë³¸ì ìœ¼ë¡œ ë¡œë“œë°¸ëŸ°ì„œëŠ” Scale outì—ì„œ ì‚¬ìš©ëœë‹¤. ì„œë¹„ìŠ¤ëŠ” ì„±ì¥í•˜ëŠ”ë° ëŠ˜ì–´ë‚˜ëŠ” íŠ¸ë˜í”½ì„ ì„œë²„ê°€ ê°ë‹¹í•  ìˆ˜ ì—†ì„ë•Œ ì„œë²„ë¥¼ ì¦ì„¤í•˜ëŠ”ë° ì´ ê³¼ì •ì—ì„œ ê° ì„œë²„ì— ê±¸ë¦¬ëŠ” ë¶€í•˜ë¥¼ ê³ ë¥´ê²Œ ë‚˜ëˆ„ê¸° ìœ„í•´ì„œëŠ” ë¡œë“œë°¸ëŸ°ì‹±ì´ í•„ìˆ˜ì ìœ¼ë¡œ ë™ë°˜ë˜ì–´ì•¼ í•œë‹¤.</p>\n<blockquote>\n<p>ì¦‰ ë‹¤ì–‘í•œ ê³³ì—ì„œ ë“¤ì–´ì˜¤ëŠ”<font color=\"#c00000\"> íŠ¸ë˜í”½ì„ ì—¬ëŸ¬ ì„œë²„ì— ë¶„ì‚°</font>ì‹œì¼œ í•˜ë‚˜ì˜ ì„œë²„ì— ë¶€ë‹´ì´ ê°€ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ ë¡œë“œë°¸ëŸ°ì‹±ì˜ ì£¼ìš” ëª©ì ì´ë©°, ì´ë¥¼ í†µí•´ <font color=\"#c00000\">ì„œë²„ì˜ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.</font></p>\n</blockquote>\n<h2 id=\"ë¡œë“œë°¸ëŸ°ì‹±ì˜-ì´ì \" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1%EC%9D%98-%EC%9D%B4%EC%A0%90\" aria-label=\"ë¡œë“œë°¸ëŸ°ì‹±ì˜ ì´ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œë“œë°¸ëŸ°ì‹±ì˜ ì´ì </h2>\n<h3 id=\"ê°€ìš©ì„±\" style=\"position:relative;\"><a href=\"#%EA%B0%80%EC%9A%A9%EC%84%B1\" aria-label=\"ê°€ìš©ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°€ìš©ì„±</h3>\n<p>ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ë¥¼ í•´ì•¼ í•˜ëŠ” ìƒí™©ì— ì„œë²„ê°€ ê°€ë™ ì¤‘ì§€ëœë‹¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ë¡œë“œë°¸ëŸ°ì„œëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ì‚¬ìš©ê°€ëŠ¥í•œ ì„œë²„ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜í•˜ëŠ” ê´€ë¦¬ì ê°™ì€ ì—­í• ì„ í•œë‹¤.</p>\n<h3 id=\"í™•ì¥ì„±\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1\" aria-label=\"í™•ì¥ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í™•ì¥ì„±</h3>\n<p>í•œ ì„œë²„ì— íŠ¸ë˜í”½ì´ ëª°ë¦¬ëŠ” ë³‘ëª©í˜„ìƒì„ ë°©ì§€í•˜ê³  íŠ¸ë˜í”½ì„ ì˜ˆì¸¡í•˜ì—¬ ë‹¤ë¥¸ ì„œë²„ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•œë‹¤.</p>\n<h3 id=\"ë³´ì•ˆ\" style=\"position:relative;\"><a href=\"#%EB%B3%B4%EC%95%88\" aria-label=\"ë³´ì•ˆ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë³´ì•ˆ</h3>\n<p>í¬ë¡¤ë§ì´ë‚˜ ì•…ì„± í”„ë¡œê·¸ë¨ ë“± ê³µê²©ìê°€ ì„œë²„ ì¥ì• ë¥¼ ì¼ìœ¼í‚¤ëŠ” ìˆ˜ë°±ë§Œ ê°œì˜ ë™ì‹œ ìš”ì²­ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¥¼ ê°€ë“ ì±„ìš°ëŠ” ê³µê²©ì„ ë°©ì§€í•˜ê±°ë‚˜ ìµœì†Œí™”í•œë‹¤.</p>\n<h3 id=\"ì„±ëŠ¥\" style=\"position:relative;\"><a href=\"#%EC%84%B1%EB%8A%A5\" aria-label=\"ì„±ëŠ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„±ëŠ¥</h3>\n<p>ì‘ë‹µ ì‹œê°„ì„ ëŠ˜ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì‹œê°„ì„ ì¤„ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ì„ í–¥ìƒí•©ë‹ˆë‹¤.</p>\n<h2 id=\"ë¡œë“œë°¸ëŸ°ì‹±-ì•Œê³ ë¦¬ì¦˜\" style=\"position:relative;\"><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\" aria-label=\"ë¡œë“œë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¡œë“œë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜</h2>\n<p>ë¡œë“œë²¨ëŸ°ì‹±ì—ë„ ì—¬ëŸ¬ ì•Œê³ ì¦˜ì´ ì¡´ì¬í•˜ëŠ”ë° ê°€ì¥ í”í•œ ê²ƒì´ ë¼ìš´ë“œ ë¡œë¹ˆ, ê°€ì¤‘ì¹˜ ë¶„ë°°, ìµœì†Œì—°ê²° ë°©ì‹ì´ ìˆë‹¤. ë‹¤ë§Œ ì„œë¡œ ë‹¤ë¥¸ ì í•©í•œ ì¼€ì´ìŠ¤ê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©í™˜ê²½ì— ë”°ë¼ ì ì ˆí•œ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ì„ íƒí•´ì•¼ í•œë‹¤.</p>\n<p>ë¨¼ì € ì •ì  ë¡œë“œ ë°¸ëŸ°ì‹±ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì</p>\n<h3 id=\"ë¼ìš´ë“œ-ë¡œë¹ˆ-ë°©ì‹round-robin-method\" style=\"position:relative;\"><a href=\"#%EB%9D%BC%EC%9A%B4%EB%93%9C-%EB%A1%9C%EB%B9%88-%EB%B0%A9%EC%8B%9Dround-robin-method\" aria-label=\"ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹round robin method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹(Round Robin Method)</h3>\n<p>í¬ì»¤ ì¹ ë•Œ ë”œëŸ¬ê°€ ì¹´ë“œ ëŒë¦¬ëŠ” ê²ƒì„ ìƒê°í•˜ë©´ ëœë‹¤. ë”œëŸ¬ê°€ ì¹´ë“œë¥¼ ì™¼ìª½ ì‚¬ëŒë¶€í„° ì°¨ë¡€ì°¨ë¡€ ì¹´ë“œë¥¼ ê±´ë‚´ì£¼ê³  ë§ˆì§€ë§‰ ì‚¬ëŒê¹Œì§€ ë‹¤ ì£¼ë©´ ë‹¤ì‹œ ì²˜ìŒ ì¤¬ë‹¨ ì‚¬ëŒìœ¼ë¡œ ë˜ëŒì•„ê°€ ì£¼ëŠ” ê²ƒì„ ë°˜ë³µí•˜ëŠ”ë° í•´ë‹¹ ë°©ì‹ë„ ì„œë²„ A, B, C ê°€ ìˆë‹¤ë©´ A â†’ B â†’ C â†’ A ìˆœì„œëŒ€ë¡œ ë¶„ë°°í•œë‹¤. ë³´í†µ ëª¨ë“  ì„œë²„ê°€ ê°™ì€ ì–‘ì¼ë•Œ ì´ë ‡ê²Œ í•œë‹¤.</p>\n<h3 id=\"ê°€ì¤‘ì¹˜-ê¸°ë°˜-ë¼ìš´ë“œ-ë¡œë¹ˆ-ë°©ì‹weighted-round-robin-method\" style=\"position:relative;\"><a href=\"#%EA%B0%80%EC%A4%91%EC%B9%98-%EA%B8%B0%EB%B0%98-%EB%9D%BC%EC%9A%B4%EB%93%9C-%EB%A1%9C%EB%B9%88-%EB%B0%A9%EC%8B%9Dweighted-round-robin-method\" aria-label=\"ê°€ì¤‘ì¹˜ ê¸°ë°˜ ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹weighted round robin method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°€ì¤‘ì¹˜ ê¸°ë°˜ ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹(Weighted Round Robin Method)</h3>\n<p>ì—¬ëŸ¬ ì„œë²„ê°€ ê°™ì€ ì‚¬ì–‘ì´ ì•„ë‹ˆê³ , íŠ¹ì • ì„œë²„ì˜ ìŠ¤í™ì´ ë” ì¢‹ì€ ê²½ìš° ì´ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤. 5ì‚´ì§œë¦¬ì™€ 20ì‚´ì§œë¦¬ê°€ ë°¥ì„ ë¨¹ëŠ”ë° ë‹¹ì—°íˆ 20ì‚´ ì§œë¦¬ì—ê²Œ ë°¥ì„ ë” ë§ì´ ì£¼ëŠ” ê²ƒì²˜ëŸ¼ ê·¸ë¦‡ í°ë†ˆí•œí…Œ íŠ¸ë˜í”½ ì²˜ë¦¬ëŸ‰ ëª°ì•„ì£¼ëŠ” ë°©ì‹ì´ë‹¤.</p>\n<h3 id=\"ip-í•´ì‹œ-ë°©ì‹ip-hash-method\" style=\"position:relative;\"><a href=\"#ip-%ED%95%B4%EC%8B%9C-%EB%B0%A9%EC%8B%9Dip-hash-method\" aria-label=\"ip í•´ì‹œ ë°©ì‹ip hash method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IP í•´ì‹œ ë°©ì‹(IP Hash Method)</h3>\n<p>ì—¬ê¸°ì„œëŠ” ìˆ˜í•™ì  ê³„ì‚°ì¸ í•´ì‹±ì´ë¼ëŠ” ê¸°ë²•ì´ ë“¤ì–´ê°€ëŠ”ë° ì‚¬ìš©ì ipë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ì‹±í•˜ì—¬ ì‚¬ìš©ìê°€ í•­ìƒ ë™ì¼í•œ ì„œë²„ë¡œ ì—°ê²°ë˜ëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤. ìš°ë¦¬ ì§‘ ì™€ì´íŒŒì´ë¡œ ì–´ë–¤ ì„œë¹„ìŠ¤ì— ì ‘ì†í•˜ë©´ ìš°ë¦¬ì§‘ ì™€ì´íŒŒì´ëŠ” ê·¸ ì„œë¹„ìŠ¤ì˜ í•­ìƒ ê°™ì€ ì„œë²„ë¡œ ì—°ê²°ëœë‹¤.</p>\n<p>ë‹¤ìŒì€ ë™ì  ë¡œë“œ ë°¸ëŸ°ì‹±ì— ëŒ€í•´ ì•Œì•„ë³´ì</p>\n<h3 id=\"ìµœì†Œ-ì—°ê²°-ë°©ë²•least-connection-method\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%86%8C-%EC%97%B0%EA%B2%B0-%EB%B0%A9%EB%B2%95least-connection-method\" aria-label=\"ìµœì†Œ ì—°ê²° ë°©ë²•least connection method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìµœì†Œ ì—°ê²° ë°©ë²•(Least Connection Method)</h3>\n<p>ëª¨ë“  ì„œë²„ê°€ ê°™ì€ ìŠ¤í™ì„ ì§€ë‹Œê²ƒì„ ê°€ì •í•˜ê³  ì ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í•œë§ˆë””ë¡œ â€˜ì €ìš¸â€™ê³¼ ê°™ë‹¤. ì—°ê²°ì´ ì ì€ ì„œë²„ë¥¼ í™•ì¸í•˜ê³  ê·¸ ì„œë²„ë¡œ íŠ¸ë˜í”½ì„ ë¶„í• í•œë‹¤. ì €ìš¸ì´ í‰í–‰í•  ìˆ˜ ìˆë„ë¡!</p>\n<h3 id=\"ìµœì†Œ-ì‘ë‹µ-ì‹œê°„-ë°©ë²•least-response-time-method\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%86%8C-%EC%9D%91%EB%8B%B5-%EC%8B%9C%EA%B0%84-%EB%B0%A9%EB%B2%95least-response-time-method\" aria-label=\"ìµœì†Œ ì‘ë‹µ ì‹œê°„ ë°©ë²•least response time method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìµœì†Œ ì‘ë‹µ ì‹œê°„ ë°©ë²•(Least Response Time Method)</h3>\n<p>ì´ ë°©ì‹ì€ ê°œë°œìê°€ ì•„ë‹Œ ì‚¬ìš©ìê°€ ì–¼ë§ˆë‚˜ ë” ë§Œì¡±í• ê¹Œë¥¼ ê³ ë¯¼í•œ í”ì ì´ ë³´ì´ëŠ” ë¡œë“œë°¸ëŸ°ì‹±ì´ë‹¤. ì¦‰, ì„œë²„ì˜ í˜„ì¬ ì—°ê²°ìƒíƒœ ê·¸ë¦¬ê³  ì‘ë‹µì‹œê°„ì„ ê³ ë ¤í•´ì„œ ê°€ì¥ ì§§ì€ ì‘ë‹µì‹œê°„ì„ ë³´ë‚´ëŠ” ì„œë²„ë¡œ íŠ¸ë˜í”½ì„ í• ë‹¹í•œë‹¤. ì¦‰ í•œ ì„œë²„ì— ì—¬ìœ ê°€ ì—†ë”ë¼ë„ ì¡°ê±´ì— ë¶€í•©í•œë‹¤ë©´ ê·¸ ì„œë²„ì— íŠ¸ë˜í”½ì„ í• ë‹¹í•œë‹¤.</p>\n<h2 id=\"aws-ë¡œë“œ-ë°¸ëŸ°ì„œ-ìœ í˜•\" style=\"position:relative;\"><a href=\"#aws-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%9C%A0%ED%98%95\" aria-label=\"aws ë¡œë“œ ë°¸ëŸ°ì„œ ìœ í˜• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWS ë¡œë“œ ë°¸ëŸ°ì„œ ìœ í˜•</h2>\n<p>ì†”ì§íˆ í•œë²ˆì— ì´í•´í•˜ëŠ”ê±´ ì–´ë µê¸° ë•Œë¬¸ì— ê²½ì°°ì— ë¹„ìœ í•´ì„œ ì„¤ëª…í•´ ë³´ê³ ì í•œë‹¤.</p>\n<h3 id=\"albapplication-load-balancer\" style=\"position:relative;\"><a href=\"#albapplication-load-balancer\" aria-label=\"albapplication load balancer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ALB(Application Load Balancer)</h3>\n<p>ë¨¼ì € ALBëŠ” HTTP/HTTPS ê¸°ë°˜ìœ¼ë¡œ ìš”ì²­ì„ ê´€ë¦¬í•˜ëŠ” ì¦‰, ê²½ì°°ì„œ ë“¤ì–´ê°€ë©´ ì•ì— ì•‰ì€ ë§ë‹¨ ê²½ì°°ì´ë‹¤. ê·¸ë“¤ì€ ì‹œë¯¼ê³¼ ì§ì ‘ ëŒ€í™”í•˜ê¸°ì— ì„¸ì‹¬í•˜ê²Œ ì‹ ê³ ì¸ì˜ ìš”êµ¬ë¥¼ íŒŒì•…í•˜ê³  ê´€ë ¨ ë¶€ì„œë¡œ ì—°ê²°ì„ í•´ì¤€ë‹¤.</p>\n<ul>\n<li>ì˜ˆë¥¼ ë“¤ì–´ â€œì‚¬ê¸°ë¥¼ ë‹¹í–ˆì–´ìš”..â€ ë¼ê³  í•˜ë©´ ì‚¬ì´ë²„ ë²”ì£„ì¼ê¹Œìš”? ì•„ë‹ˆë©´ ê¸ˆìœµ, í”¼ì‹±? ì´ë ‡ê²Œ ë¬¼ì–´ë³¸ í›„ ê° ìƒí™©ì— ë§ëŠ” ë¶€ì„œì— ì—°ê²° ì‹œì¼œ ì¤€ë‹¤.</li>\n<li>ì¦‰, ALBëŠ” HTTP ìš”ì²­ì„ ë§¤ìš° ì„¸ì„¸í•˜ê²Œ ë¶„ì„í•´ì„œ ê·¸ ìš”ì²­ì— ë§ëŠ” ì„œë²„ë¡œ íŠ¸ë˜í”½ì„ ë³´ë‚¸ë‹¤. ì‚¬ìš©ìë§ˆë‹¤ ë‹¤ë¥¸ í˜ì´ì§€ë‚˜ ê¸°ëŠ¥ìœ¼ë¡œ ì—°ê²°í• ë•Œ ë§¤ìš° ìœ ìš©í•˜ë‹¤.</li>\n</ul>\n<h3 id=\"nlbnetwork-load-balancer\" style=\"position:relative;\"><a href=\"#nlbnetwork-load-balancer\" aria-label=\"nlbnetwork load balancer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NLB(Network Load Balancer)</h3>\n<p>NLBëŠ” TCP/UDP ê¸°ë°˜ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•˜ëŠ” ë¡œë“œ ë°¸ëŸ°ì„œë¡œ êµì°¨ë¡œì—ì„œ ì°¨ë“¤ì´ ì˜¤ê°ˆ ë•Œ ì‹ í˜¸ë¥¼ ë³´ê³  ë¹ ë¥´ê²Œ êµí†µ íë¦„ì„ ê´€ë¦¬í•˜ëŠ” êµí†µê²½ì°°ê³¼ ë¹„ìŠ·í•˜ë‹¤.</p>\n<ul>\n<li>êµí†µê²½ì°°ë“¤ì€ ì´ ì°¨ê°€ ë¬´ìŠ¨ ì°¨ì¸ì§€ ì–´ë–¤ ëª©ì ì„ ê°€ì§€ê³  ê°€ëŠ” ì°¨ì¸ì§€ ê´€ì‹¬ ì—†ê³  ê·¸ëƒ¥ ì‹ í˜¸ê°€ ë§ìœ¼ë©´ ë¹ ë¥´ê²Œ í†µê³¼ì‹œí‚¨ë‹¤.</li>\n<li>ì´ì²˜ëŸ¼ ì„¸ë¶€ì ì¸ ì •ë³´ë³´ë‹¤ëŠ” IP ì£¼ì†Œë‚˜ TCP ì—°ê²°ì„ ê¸°ë°˜ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ê³ , ê³ ì† í†µì‹ ì´ í•„ìš”í•œ ë¹„ìŠ¤ì— ì í•©í•˜ë‹¤.</li>\n</ul>\n<h3 id=\"elbelastic-load-balancer\" style=\"position:relative;\"><a href=\"#elbelastic-load-balancer\" aria-label=\"elbelastic load balancer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ELB(Elastic Load Balancer)</h3>\n<p>ELBëŠ” ê¸°ë³¸ì ì¸ íŠ¸ë˜í”½ ê´€ë¦¬ ê¸°ëŠ¥ë§Œ ì œê³µí•˜ëŠ” ë¹„êµì  ê°„ë‹¨í•œ ë…€ì„ì´ë‹¤. ì˜ˆë¥¼ë“¤ë©´ ë‹¨ìˆœíˆ ê²½ì°°ì²­ ì‚¬ì´íŠ¸ë¼ê³  ìƒê°í•˜ë©´ ë˜ê² ë‹¤.</p>\n<ul>\n<li>ì¸í„°ë„· ì‚¬ê¸° ë‹¹í–ˆëŠ”ë° ì–´ë””ë¡œ ê°ˆê¹Œìš” ë¼ê³  ë¬¼ì–´ë³´ë©´ ë‹¨ìˆœíˆ ì‚¬ê¸° ë‹´ë‹¹ ë¶€ì„œ ìœ„ì¹˜ë§Œ ì•Œë ¤ì£¼ê³  ëë‚´ëŠ” ëŠë‚Œì´ë‹¤.</li>\n<li>ì¦‰, ìš”ì¦˜ì€ ALBë‚˜ NLBì²˜ëŸ¼ ë” ì„¸ë¶€ì ì´ê±°ë‚˜ ë¹ ë¥¸ íŠ¸ë˜í”½ ì²˜ë¦¬ë¥¼ ìœ„í•œ ë¡œë“œ ë°¸ëŸ°ì„œê°€ ë” ë§ì´ ì‚¬ìš©í•œë‹¤.</li>\n</ul>\n<h2 id=\"ë”°ë¼ì„œ\" style=\"position:relative;\"><a href=\"#%EB%94%B0%EB%9D%BC%EC%84%9C\" aria-label=\"ë”°ë¼ì„œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë”°ë¼ì„œ..</h2>\n<blockquote>\n<ul>\n<li>ALB: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ìë§ˆë‹¤ ë§ì¶¤í˜• ì‘ë‹µì´ í•„ìš”í•œ ê²½ìš°.</li>\n<li>NLB: ë¹ ë¥¸ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ì²˜ë¦¬, ì‹¤ì‹œê°„ ë°ì´í„° ì „ì†¡ì´ í•„ìš”í•œ ê²½ìš°.</li>\n<li>ELB: ê°„ë‹¨í•œ íŠ¸ë˜í”½ ê´€ë¦¬ê°€ í•„ìš”í•œ ê²½ìš°, ì˜ˆì „ë¶€í„° ì‚¬ìš©ëœ ì•ˆì •ì ì¸ ë°©ì‹.</li>\n</ul>\n</blockquote>\n<p>ì´ë ‡ê²Œ ë¡œë“œ ë°¸ëŸ°ì„œì˜ ê°œë…ê³¼ AWSì— ìˆëŠ” 3ê°€ì§€ ë¡œë“œ ë°¸ëŸ°ì„œì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤. ì„¸ì›”ì´ ì§€ë‚˜ë©´ ë¶„ëª… ê¹Œë¨¹ì„ ê²ƒì´ ë»”í•˜ê¸° ë•Œë¬¸ì— ìµœëŒ€í•œ ì‰½ê²Œ ì´í•´í•˜ë ¤ê³  ë…¸ë ¥í•´ë´¤ë‹¤ ã…. ë¡œë“œ ë°¸ëŸ°ì„œ í•˜ë©´ ë­ë‹¤? ê²½ì°°ì´ë‹¤~~ í•˜ë©´ ì´ ë‚´ìš©ë“¤ì´ ë¨¸ë¦¬ì†ì—ì„œ ì˜ ìƒê°ë‚˜ì§€ ì•Šì„ê¹Œ í•œë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0%EC%97%90-%EC%95%9E%EC%84%9C\">ë“¤ì–´ê°€ê¸°ì— ì•ì„œ</a></p>\n</li>\n<li>\n<p><a href=\"#core\">Core</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1%EC%9D%98-%EC%9D%B4%EC%A0%90\">ë¡œë“œë°¸ëŸ°ì‹±ì˜ ì´ì </a></p>\n<ul>\n<li><a href=\"#%EA%B0%80%EC%9A%A9%EC%84%B1\">ê°€ìš©ì„±</a></li>\n<li><a href=\"#%ED%99%95%EC%9E%A5%EC%84%B1\">í™•ì¥ì„±</a></li>\n<li><a href=\"#%EB%B3%B4%EC%95%88\">ë³´ì•ˆ</a></li>\n<li><a href=\"#%EC%84%B1%EB%8A%A5\">ì„±ëŠ¥</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98\">ë¡œë“œë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜</a></p>\n<ul>\n<li><a href=\"#%EB%9D%BC%EC%9A%B4%EB%93%9C-%EB%A1%9C%EB%B9%88-%EB%B0%A9%EC%8B%9Dround-robin-method\">ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹(Round Robin Method)</a></li>\n<li><a href=\"#%EA%B0%80%EC%A4%91%EC%B9%98-%EA%B8%B0%EB%B0%98-%EB%9D%BC%EC%9A%B4%EB%93%9C-%EB%A1%9C%EB%B9%88-%EB%B0%A9%EC%8B%9Dweighted-round-robin-method\">ê°€ì¤‘ì¹˜ ê¸°ë°˜ ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹(Weighted Round Robin Method)</a></li>\n<li><a href=\"#ip-%ED%95%B4%EC%8B%9C-%EB%B0%A9%EC%8B%9Dip-hash-method\">IP í•´ì‹œ ë°©ì‹(IP Hash Method)</a></li>\n<li><a href=\"#%EC%B5%9C%EC%86%8C-%EC%97%B0%EA%B2%B0-%EB%B0%A9%EB%B2%95least-connection-method\">ìµœì†Œ ì—°ê²° ë°©ë²•(Least Connection Method)</a></li>\n<li><a href=\"#%EC%B5%9C%EC%86%8C-%EC%9D%91%EB%8B%B5-%EC%8B%9C%EA%B0%84-%EB%B0%A9%EB%B2%95least-response-time-method\">ìµœì†Œ ì‘ë‹µ ì‹œê°„ ë°©ë²•(Least Response Time Method)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#aws-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%84%9C-%EC%9C%A0%ED%98%95\">AWS ë¡œë“œ ë°¸ëŸ°ì„œ ìœ í˜•</a></p>\n<ul>\n<li><a href=\"#albapplication-load-balancer\">ALB(Application Load Balancer)</a></li>\n<li><a href=\"#nlbnetwork-load-balancer\">NLB(Network Load Balancer)</a></li>\n<li><a href=\"#elbelastic-load-balancer\">ELB(Elastic Load Balancer)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%94%B0%EB%9D%BC%EC%84%9C\">ë”°ë¼ì„œ..</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"September 08, 2024","title":"Load Balancerë€? Feat. AWS","categories":"Data_Engineering Cloud","author":"ìµœì§€í˜","emoji":"ğŸ› ï¸"},"fields":{"slug":"/Cloud/Loadbalancer/"}},"site":{"siteMetadata":{"siteUrl":"https://statisticsfox.github.io","comments":{"utterances":{"repo":"StatisticsFox/blog-comments"}}}}},"pageContext":{"slug":"/Data Engineering/nginxë¡œ Spark, Yarn, kafkaui êµ¬ì„±í•˜ê¸°/","nextSlug":"/Data Engineering/Terraformìœ¼ë¡œ AKSì— airflow ë„ìš°ê³  gitìœ¼ë¡œ DAG ê´€ë¦¬í•˜ê¸°/","prevSlug":"/Cloud/Loadbalancer/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}