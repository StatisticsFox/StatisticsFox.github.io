{"componentChunkName":"component---src-templates-blog-template-js","path":"/Me/index1/","result":{"data":{"cur":{"id":"ddf0ca2c-eac3-579d-948a-a3830b83ae30","html":"<h1 id=\"행복에-대해서\" style=\"position:relative;\"><a href=\"#%ED%96%89%EB%B3%B5%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\" aria-label=\"행복에 대해서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>행복에 대해서</h1>\n<p>오늘은 내가 짧게나마 ‘행복’이란 무엇일까 고민해보고자 한다. 최근에 인문학을 공부하면서 나에게 적용하는 등 여러가지 생각을 하고 있다. 예전에 ‘불안’(아직 글은 안썼음)에 대해서 정의를 해봤는데 이제는 행복에 대해서도 깊게 생각해보고 싶어서 “최근에는 행복이란 무엇일까”에 대해서 고민을 해보았다.</p>\n<h2 id=\"나는-언제-행복할까\" style=\"position:relative;\"><a href=\"#%EB%82%98%EB%8A%94-%EC%96%B8%EC%A0%9C-%ED%96%89%EB%B3%B5%ED%95%A0%EA%B9%8C\" aria-label=\"나는 언제 행복할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>나는 언제 행복할까</h2>\n<p>그렇다면 나는 언제 행복할까 궁극적으로 행복에 대해서 정의하기 이전에 단순하게 나는 언제 행복한지에 대해 고민해봤다. 나는 아래와 같은 상황일때 행복을 느꼈던 것 같다.</p>\n<ul>\n<li>하루를 다 마치고 친구들이랑 게임할때</li>\n<li>평일에 늦잠잘때</li>\n<li>사람 많이 없을때 맛집 가서 맛있는거 먹을때</li>\n<li>분위기 좋은 카페가서 여유롭게 책을 읽을때</li>\n<li>새로운  사람을 만나서 이야기를 공유할때</li>\n</ul>\n<p>아주 평범하고 누구나 특별히 게임을 안좋아한다거나 하는게 아닌 이상 대부분 행복을 느낄 것이라고 생각한다. 때문에 일반화하고 정의하기가 막막했는데 내가 예전에 불안에 대해서 생각했던 것과 자연스럽게 사고가 연결되어 어렴풋이 말로써 정의할 수 있게 되었다.</p>\n<h2 id=\"행복의-조건은-말--생각--행동이다\" style=\"position:relative;\"><a href=\"#%ED%96%89%EB%B3%B5%EC%9D%98-%EC%A1%B0%EA%B1%B4%EC%9D%80-%EB%A7%90--%EC%83%9D%EA%B0%81--%ED%96%89%EB%8F%99%EC%9D%B4%EB%8B%A4\" aria-label=\"행복의 조건은 말  생각  행동이다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>행복의 조건은 ‘말 == 생각 == 행동’이다.</h2>\n<p>나는 말과 생각과 행동이 일치할때 행복하다고 생각한다. 예를들어 졸린 몸을 이끌고 회사에 출근했을때 나는 “졸리다”라고 말하고 “집 침대에 눕고 싶다.”라고 생각한다. 하지만 나의 행동은 출근 후 오전 회의를 준비하고 있다. 이 것은 행복하다고 할 수 없다. 3가지가 통일되지 않았기 때문이다.\n이번에는 행복한 예를 들어보자 나는 게임을 할때 행복하다고 느끼고 실재로 그렇게 말하며 진짜 게임을 할때 행복함을 느낀다. 이것은 3가지가 통일되어 있기 때문이다.\n이 공식은 대부분의 상황에서 적용되었던 것 같다. 홍길동도 형이라고 생각하고 실재로 동생으로써 행동했으나 형이라 말하지 못했다. 그 때문에 적어도 그 집안에서는 불행했다.</p>\n<h2 id=\"말을-먼저-바꿔라\" style=\"position:relative;\"><a href=\"#%EB%A7%90%EC%9D%84-%EB%A8%BC%EC%A0%80-%EB%B0%94%EA%BF%94%EB%9D%BC\" aria-label=\"말을 먼저 바꿔라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>말을 먼저 바꿔라</h2>\n<p>말과 생각과 행동 중에서 바로 바꿀 수 있는게 무엇일까 바로 ‘말’이다. 말의 힘은 위대하다. 사람의 가치관 만들어질때 어떤 말을 듣고 자랐는지가 제일 중요하며 말을 하면 생각은 자연스럽게 따라오고 이제 행동이 일치할때 나는 행복해질 수 있게 된다.\n따라서 나는 나에게 도전적 이면서도 행복한 말을 할려고 노력한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">나는 잘 하고 있고 잘 될거다.\n이거 누가 해, 내가 하지</code></pre></div>\n<p>이렇게 도전적으로 아무렇지 않은듯이 말하거나 아래와 같이 단기목표지향적으로 말하기도 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">출근해서 아아에 쿠키하나 때려야지\n오늘 업무 어떤 부분은 다 마무리 해야지</code></pre></div>\n<p>이렇게 소리내어 말을 하면 는 정말로 그렇다고 생각하고 내가 행동을 실재로 했을때 나는 소소하지만 행복함을 느낄 수 있다. 어렸을때 사람들이 마인드가 중요하다. 라고 말하고는 했는데 나의 행복을 중심으로 마인드를 가지면 정말로 행복할 수 있는 것 같다.</p>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>이처럼 말과 생각 그리고 행동을 일치시킬때 행복함을 느낄 수 있다. 그리고 그 중 가장먼저 바꿔야 할 것은 ‘말’이다. 하루를 시작하기 전에 나에게 행복한 말 그리고 행복해 질수 있는 말을 소리내어 말하고 하루를 시작해보자 내면의 소확행을 분명 얻을 수 있을거라고 생각한다.</p>","excerpt":"행복에 대해서 오늘은 내가 짧게나마 ‘행복’이란 무엇일까 고민해보고자 한다. 최근에 인문학을 공부하면서 나에게 적용하는 등 여러가지 생각을 하고 있다. 예전에 ‘불안’(아직 글은 안썼음)에 대해서 정의를 해봤는데 이제는 행복에 대해서도 깊게 생각해보고 싶어서 “최근에는 행복이란 무엇일까”에 대해서 고민을 해보았다. 나는 언제 행복할까 그렇다면 나는 언제 행복할까 궁극적으로 행복에 대해서 정의하기 이전에 단순하게 나는 언제 행복한지에 대해 고민해봤다. 나는 아래와 같은 상황일때 행복을 느꼈던 것 같다. 하루를 다 마치고 친구들이랑 게임할때 평일에 늦잠잘때 사람 많이 없을때 맛집 가서 맛있는거 먹을때 분위기 좋은 카페가서 여유롭게 책을 읽을때 새로운  사람을 만나서 이야기를 공유할때 아주 평범하고 누구나 특별히 게임을 안좋아한다거나 하는게 아닌 이상 대부분 행복을 느낄 것이라고 생각한다. 때문에 일반화하고 정의하기가 막막했는데 내가 예전에 불안에 대해서 생각했던 것과 자연스럽게 사고가…","frontmatter":{"date":"January 10, 2024","title":"행복에 대해서.","categories":"대질문","author":"최지혁","emoji":"🪽"},"fields":{"slug":"/Me/index1/"}},"next":null,"prev":{"id":"ad2b72e4-7395-5707-be63-0e9e2ee54d97","html":"<h1 id=\"nat-인프라\" style=\"position:relative;\"><a href=\"#nat-%EC%9D%B8%ED%94%84%EB%9D%BC\" aria-label=\"nat 인프라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NAT 인프라</h1>\n<p>이번에 실시간 따릉이 대시보드 제작 프로젝트에 데이터 엔지니어 및 인프라로 참여하게 되었다.\n협업 및 배포의 용이성 때문에 클라우드를 이용하기로 결정이 났고 <font color=\"#c00000\">AWS에 EC2에 카프카 클러스터를 구축</font>하고 프로듀서를 개발하기로 하였다.</p>\n<p>AWS를 이용한 협업은 처음이기에 세세하게 사전조사를 했는데 첫째로 알게 된 사실은 AWS에서 네트워크를 설계할때 NAT의 사용은 필수적이라는 것이다.</p>\n<p>보안상 카프카 클러스터 서버들을 외부에서 접근할 수 없게 해야하기 때문이다.</p>\n<p>때문에 VPC 인프라를 구축할때 Public 서브넷과 Private 서브넷을 만들어 그안에 EC2 인스턴스를 두고, Bastion Host를 통해 Public 서브넷에서 Priavate 서브넷으로 접속한후, NAT Gateway를 통해서 외부 인터넷 소스를 사설망에서 받는 식으로 운용된다.</p>\n<p>그만큼 중요한 것으로 당연히 AWS에도 관련 서비스인 NAT Gateway가 존재한고 그것을 이용해서 손쉽게 사설망 외부 통신을 하지만, 아주 중요한 사실이 있었으니…</p>\n<p>NAT 게이트웨이는 서울 지역 기준으로 시간당 0.059달러의 비용이 발생하는데, 이걸 24시간 가동하고 있으면 강제로 물린 삼성전자 주식을 다 팔아야할 수도 있다.</p>\n<p>때문에 NAT Gateway가 아닌 NAT instance를 사용할 수 있는데 물론 단점이 명확하지만 프리티어 요금제를 사용하면 <font color=\"#c00000\">무료</font>로도 사용가능하다.(무료가 포인트다^^)</p>\n<p>학생들이서 하는 토이 프로젝트이므로 퍼블릭 서브넷 기능 하나만 있으면 되기에 묻지도 따지지도 않고 NAT instance를 사용하기로 하였다.</p>\n<h1 id=\"nat-인스턴스-vs-gateway\" style=\"position:relative;\"><a href=\"#nat-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-vs-gateway\" aria-label=\"nat 인스턴스 vs gateway permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NAT 인스턴스 vs Gateway</h1>\n<p>NAT Instance는 EC2 Instance를 NAT용으로 바꿔 사용하는 것을 말한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxklEQVQoz3WT3YrTUBSF+7ze+AQ+i1fitQiDaL0pAzJ4IcNMwTJqHTKlSZvk/P+fk6XnnIxWqxuS7CySb6+9QhaYawKQUsRpTfh/CSEgpcQ4joixvjdNExb5JbF6Dt2s4SfAWQvnHKw1YJRgt9vh+3aLpmmw3+8hpSqQ3BNC0HVduQ8hFOgieAeyXsEc7mFcgNEa3jsce4I3yyuQ4YiRcXBG0R9a0KGHMaYMzVc7G8iOs9OF9x42na/knceXbw9Q2mBYvYA6NDWCKf4zggzPrAJUUpTEUvpNjt7lc+n3tx/Ahq7mFHx5Luf1eOTSZbMZGE/Sb9sWbdudfJIJ0riSbXAWKbg/rf0NtMbg6u0rcNJDMAYy9LBGwQiK28t30JyCjT2SM0AKEEOHm8sllGCQnNdNpggtRQU6a7BdfyoTOBuQoi8TnWRoNjcw1oHTI7y3s06LLqQqeorVsZZ8XtlZhFAh48VTqM1FXSWYX1sNr59A3S3PdPL+GcT1ywoU9NGhheS0iN3mI3h3X/rkdMkrJ9R+vgI/Ppzo1cDh6zXG3V3pFZ+BMQQwMkJxBm09lNJlgGQUkrPSV12d68ZBawPJCASnSD//lB87tU/LGyDnkQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"사진\"\n        title=\"사진\"\n        src=\"/static/71b597b3b86ff7c7adc99bc1e0e52471/37523/AWS-VPC.png\"\n        srcset=\"/static/71b597b3b86ff7c7adc99bc1e0e52471/e9ff0/AWS-VPC.png 180w,\n/static/71b597b3b86ff7c7adc99bc1e0e52471/f21e7/AWS-VPC.png 360w,\n/static/71b597b3b86ff7c7adc99bc1e0e52471/37523/AWS-VPC.png 720w,\n/static/71b597b3b86ff7c7adc99bc1e0e52471/302a4/AWS-VPC.png 1080w,\n/static/71b597b3b86ff7c7adc99bc1e0e52471/07a9c/AWS-VPC.png 1440w,\n/static/71b597b3b86ff7c7adc99bc1e0e52471/332b4/AWS-VPC.png 1826w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n위 인프라는 이번에 내가 구성한 AWS 구성도다.\n인프라 구성을 보면, Public subnet에 NAT instance가 위치하게 된다. 그리고 <strong>EIP</strong>를 부여 받아 외부의 트래픽을 받는다.</p>\n<p>또한, Private 서브넷의 route table에 <strong>nat-instance-id</strong>를 설정하고 public-nat의 보안 그룹을 수정하여 private 서브넷에서 오는 모든 TCP 요청과 ICMP을 받도록 설정한다.</p>\n<blockquote>\n<p>EIP란?\n인스턴스를 재시작해도 public IP가 변경되지 않도록 고정된 public IP를 제공하는 서비스를 말함.</p>\n</blockquote>\n<p>NAT Instance: 퍼블릭 서브넷 기능이 있는 하나의 EC2 서버다. 때문에 꺼지면 죽으며 위 구성도 처럼 단일 서버로 구축하기 때문에 SPOF가 될 수 있다. 토이 프로젝트에서만 사용하도록 하자ㅎㅎ</p>\n<p>NAT Gateway: AWS에서 제공하는 서비스이기에 고가용성이 보장되서 죽지 않는다. SPOF라는 단점을 해결할 수 있다.</p>\n<table>\n<thead>\n<tr>\n<th><strong>NAT Instance</strong></th>\n<th><strong>NAT Gateway</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>단일 인스턴스</td>\n<td>AWS에서 제공하는 서비스</td>\n</tr>\n<tr>\n<td>= EC2</td>\n<td>= 서비스</td>\n</tr>\n<tr>\n<td>서버가 꺼지면 죽음</td>\n<td>꺼져도 죽지 않음 병렬로 구성(고가용성 보장)</td>\n</tr>\n<tr>\n<td>보안그룹에 영향을 받기에 일일이 설정해야 함</td>\n<td>보안 그룸 영향 받지 않음</td>\n</tr>\n<tr>\n<td>Bastion을 겸할 수O</td>\n<td>Bastion을 겸할 수X</td>\n</tr>\n<tr>\n<td>이제 NAT INSTANCE를 구성하는 방법은 다음 포스팅에서 다뤄보도록 하겠다.</td>\n<td></td>\n</tr>\n</tbody>\n</table>","frontmatter":{"date":"January 14, 2024","title":"AWS NAT instance를 활용한 비용절약","categories":"Cloud","author":"최지혁","emoji":"🐕"},"fields":{"slug":"/Cloud/"}},"site":{"siteMetadata":{"siteUrl":"https://statisticsfox.github.io","comments":{"utterances":{"repo":"StatisticsFox/blog-comments"}}}}},"pageContext":{"slug":"/Me/index1/","nextSlug":"","prevSlug":"/Cloud/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}